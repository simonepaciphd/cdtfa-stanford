<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fe4819806e08aadd7ef96a5439b9eec2e798581c8cfeaf1176188a5758a1ce54c1c769e9916f7cb266be17d07a52ca4566b52d3600ad04d6a4015c31ec46c366a74cd297adeec918ce0d66adb6168737942da4163f14ab227a15bbb02881780d8b62f2ff2bd0ddc214c2642fec709c247f4c2730dad790f6dbbd6fcb8113edac4a39b0fd2468b33d4afa6cd1d05447a4b029ad0baaf3f26e83608d02e6c6890661eef1d600164b3e284a76cb41818218420aad348d6b293c1e591a5d0b6d6baea74d9b6e4a61b9a72cac305dbd8b4d2449b4427b7fcd387950718538c7b5c09b05c587524d6dbeb7481ecff63cf7cd87786bad7bb36e6667d6810e82bf2ff13dda716570fa3f26bc365d7c7ef141f5847cd14fbc6b8fafadfe681ecb95ca923e707913a6cda46082eeeed9712ece01e8cfd2fc16a6755a61007ea7459a120bd3c7c6c062b3e9f9acb132db21cd6c181a65a3a840203e942156619a0b7194a9c0f07dcdd18c3c1ee460b20c22d9bfd57706a9bc883dcb8a78ec28c42d91feb9972f15b7b4c2f51b46154eaf59328886cd9d190203b8474a990f840a4deaaa06ce1aab3233c2dcbe7b6f465c2cbbdb211eb1471b140c3dac0509e4d3d3398f4e0d1a67ae4b7d3e497d37c3fc7b2161fd569f85b0f76449c347aeab4af5ec3b8858b105551374105291ce73f82ea9e6218e755cd96a7de7f7afdd9cfd0495e384a29e81086eb099a8efa6f3e30b02920ba220e18abf9085042ffd962163d867d813c46a0dc22bb30bc127e06595d231c16604cd20afc7c47270a9eab193e05befe7e140802fe67ef9ba2f9bb329b8406d4c86e0293fa14814ba7446f1fdc715fa0137ac82b385f5f34012e9ab9390002efb83d59653fa04d767d716435312059dffa8b1d2ed1ce9928e72a28526e0cb05cde2247c7da71da32a7035417a3ee5dbccb8013e848aca698fd01ef8309917f0be072d9359794348f3e3d49361ebfa26899495e07e7179ee609b8b85be13ff01ae6134c6eb5e7bd848f84f0a62e75348ae9b230ae25bd18023205fc1a3ff3af12bea0e3d48faf010695e770068b73e45f7ff59e05864f475cf16a4b43925cc1503602c97f0fe7118502212811017df81b6e075c6a2d7d09490f3316c386693c3f916eac7b2b8a8eff3900675f0dd214dc0369fe80817a6693c0fb84f4360b515ae1bff9b116d22f1ac807b7ded6bfe8a17ca3805b63b2bfe495cfb7a6b62d577831db7980b6061a0b8f1be1915484d67ceac6f71b20e3c8dd61b3c459d37982f1d6febabcf8f1f774fc9fd060d6687d3f26b019a535fb9210fdc225c612db76c4292db04275d18bd4e6be12ab3b8bb1066614658dc86b1ee833f525e4b1be3b2ae7da0489930c154f050a2155d2b330cb3ce32d91a746b983f65fbbe159bb3399e5a484f105cd46176db80f79ba8d4a59810d33f1d58739573139171c53ccc7f5756abe9640556337c16771850e90d8487d01a11d60fee8d7e39261210387b729bac7b94927d7b9afc14ecca9047de98b4182192498d78bfd919f27b1691ae778f7e6245da319254e855f335aaf919e7d7624eaedf04aa33b868ddcaa7206d0ed4f011ce4d01f3ae72eaa899614c3bacfdbb7b22f4b9291b7c7555c7b38ce993da2d755e7c4aff2051b2be4a849392dc0dc0fa952b2cefc990e982c2392c9d0b5a195d8ddc1f597b0d2a2ef0f7b7e4c85a132acf3932e0eb23e0360f67c5ad57c340eefa5b8f2d040b7e03dd15bc1d9906a6e6ca3101ceb96e639d37c3955c6c3c9832a5024f41fb4b9312ca330c9ab76fe773cc5bbdd082e93cf0e9a40a7e103d202f169fd79bcffd833418e9a24deba9a88baae4b99aa21cba51dc98fab674f85e3337853998768a0f3ca74680eacbfb6af29896efdfaa0261cc22fcb4f9704d16c17c0145faf135c7b7bb94ea2e98fb15cdb7b088c5330723431a5d51f7a5d929e075f07ec46ef43dcdc2d2dec03d9dfb2072eabd579a7830e003b6226287f85812fe3c0cc9935518fdd2e86b180824e3dc2ec19756507f4dc0728f2fe4a61fefaaba9d8b0c634454760184ccbda5b49d4165d634e039db842d6dc6da40fc63484cbca411efc2d721c89d331a91682adccaea471e60d32e543d19ec54554c256afcd9138d5fe1fb5ac231f73e1b16b4de6aa2fb968d714d7cad3943d3039ba04e8ba2957a0a25023d3680b66aaeacae966e1a125b97006f079f92709066ebd201760ffcd8a3b4c3512c4384f23038a8b0844252c526ded41b58b62a4839b1e15c46dc31cd5481530068254243fa099d4df446107a38d29f5c464bb10cee586fe4c2bcf45320b27b36c47b50c5f45f230c32d01357fcb38865b2e528f4ac472511077fe016a0c1897cfc66d1d87ef697a508daf43df2055434c1e43513716f7f88a7629a4c68060b65d3fa6b43f84d40da7e00ff474492f35a1ce68a5fac406e7d87661bc741d0a3e55801117b7ff2796b10dd6044bb7ef99665625e076c9eac220dd86e84430dc4c7ef76dde933024ebf3b860b15bc1f67597f9f8d9170ed7a37de8a81a2af40dabf158538d73f5cbf4e1a7767736b17f0cb87e329c5c78ae42dccb9fcdc66bfb16b34e16624aa05244f7e58c8a237d3b780d0ea5f402ca5143b78e9091a4bf87b93ee35d5914c1bc96ff76a75d35ff0a5f266ac6900602cc9a1b0c818eec2d3eed1d7c19cb70472eb54d82acf70d0b00b0f5f05e10baec4d3da44eb302993f53a2db76a0ca70ece372b58bfb47076535549e2a0747193338a567f762ce4cb02538d1f2400d5c2c82b91e2d19f495609c376d39a0c4f4153a0333919e4dca5866fefcdba3458e3bb40f6ca358d34c115637c5c3ea71f809f9307283e19f130aeac21d9f6b83f522487b99c214f053c6165c1a99c4d991f348ffc1afd42fbc01ea12a9989cf5e2a9067364a93623329e433e1559989d15e4eaa096028cff90cdcd5c4f3fd0ca59891b9e3f39b1dda1b573c70a75b00dd6df472e751f0ca5c14bf470a5b643e60d0c47aaa7007dd5234d7018dbf1c70d07918ed9f8293a77ec589b68105a45fd809a19788f9d1e287aba31989b744097a43b7c5185de9798832ed8bb8a18517c355cd88daef4af03582f26a641cc5ee2d8519b98e5969d24320e8833322ffc009e681ce61172881e4fe67f70a3c858fe4493c1277972c66d0f8df98ad83cd19d60e082815df35df8296a938eac1e236e6f52b5014cb6af7debde1f52ce4eb5b2a2bb97b6bc27c85a75077fa3c80bbd7a56a88331e3ba4fd8f4f484f801b2f2e9179fb0af92fdd9df99e35b180fef93429258ec87c43601f8d7110eb25408f44852c1ae6496621b9f2c632909326fd3b8188e6a267291c659ff0e463ffacbd95bec0c976c6823b7af154cca70df5f8b0f9e6e3605d778ee6f58ff02981832a4c9f6e14a2c6306714219776bcfe5b99ceeab4bd2c0c203c794c86d36aa3919a8e072eb73ecf21987471e7774f8f0a28a0db2885c3897f57be28d44865cc5d91c22b9820953e2afa7e609ef0121a8403ef376cabf945de69932c4931530376fe81464e4c09a02d1029c2ad597f22a79b460fad610c92f950694ed03756ad3d48bd5f9c40336fb1b3552e4e2c998f383802dfb56b6b53f3c9681ab4890d3fb3d70984dd2badcc196a8542fd83206d9f15c4ad26155a5f10c006f824b8447cfbd55fad05037f52ea4d8a7d54b9949f96d9632104b0f9a80ee4ca7a6b46843b802bf3e504a15c1d5502bec412c6c438a30d44b6c8ae5653ce78b507149733cc32e55b583ea3a400b0b6b3f963fd42b778f2ace5c0c7dbc01e0b1ba983686d8a0bdbd7c499842ecc3445cdf606fbf53ac67eb912f2e0c3ebeaaa05df3405f19a64fac40103b18724ca7675c19ffc1eda57d21df44033206c34a8d542e7813ce285ee9b566a03aa4bcbfb579e7cd7f99327b3b335d874b48b2ddc83be846e8519ac465423a28799c94cd904fbb5662f0ecbd6dbdde1327591731e12b2ec5e4719b8b7aa3b2cdbde1db5ddc82a8ee24b95a1f5301dd787ecb5e9f0e8dbf6aa327a8daafa7d8b8bac7ba38e5550e2fd36c2f853fe0296f59e6de0d2fbf6157728f48d9d2b4e11dc8d39a4e5a12a97442ec7c1c1cf821e6e997c8f046de2bf9875bcafca2a6fb86e966db1064cfe98947848d689d0b2131bc0abc0a0e99c4d66f15670036d0b03814eae0b37c43919800eee686fd292a2a56ad733138d472cfc0d21f5d035f686ed6d9452469cf33ff0b5aceb0566744bb7f01f017121ae7bcb732ed428b9420b83d90577390a2edc2d7873cb6732d6fd4a11f58b7d7ed287ac542c579cde6f9e41838b495477a4b8b1dea9b3f63751da3bb19a730b175b538cf7bc93cb3c9a19cb8a6ea4d57defe72615cdde9e946821540bd64fc67a62328ff9f87ba6922be848189a54add56f0410c8eea665256b1fa85c415b6f537060c43e10a6fc84196d0f69ed0403a044b728b507fa3c5bb932230d41b4965840884549bcf636706248b2c0cc2a9cc73129818cfec2f5765330362cd0980fe0391783a2db979f19d09291d84728b70fa53069b80b32a6dfae619b6c42a5948583a70e5fe5f1c2694d7ad5a452ce45d3dfae90f2af442cd8ac57865c6d2e1fd360bb4dcdbac37843100dec3f3f51bd4502f7f40b6e8c066abed9205b919a5e6501b3c2975d83d3d7a9978f16b6fd60d0f7ca5c60275d1e81e9cd751eb54c3943195e9dcf9d7fa5dfef88cbaf7778ff58dac86a63e8b107be0cf4df5e61a1e36d1d5a3b99a3f94d9445873af2db22e8236535d27af912accf013c5d8d91f4e07a71a55580ccd64005f7caa344dd59fceea309c1484d64b39e4fdeb57395bba482d838d3724a3343cfbfa1f359ac60230718d6fce7ccf1d1d6af529709f274b803a955f5b2514e6e1662300ef841bd41da12e14cca7ecdf3018e5892f500792d074544d4c1403b1448b027d50ca7bc9db5b2f471a6d45e4a3d7a1550ff7f26f99a97396ce74a37438d238ab5621d8a0a9873097dd1dc9122092b49515c6e6002b8f4f3eb15b36fe5f2b9951d5ef1a399626f0b6d72e209795fcfe3b844b1f0d590f5a4600e3b8108f0efe14361b33faf3bfa3baa787c1687a8c68c973a4b671bb322a119d2f591626495b748f845bf41581e3a5f65ffa4477ff1ad06b2d08d3295a18cfab7e204d8aba259720bbede5f164d8487ae414a3daf81d4d8de4ec0774e5a011e1163d5abba4adf02f116f1d90e201d2f44a32e671b5d10d91104dcc54dda019a25c82e6f3d76da914901f2391da5a4132a9b74c202dce601a486f2b1fcdda3061ebd97c4e48e2c737894c5f0e2b519f104ce01985a4f3e4b117376c7999a020b79959433ce6e0e7c86200a8b416056641c33bfc0d2afd3c2a4fad2c07f5dc718ab8742825b6b557ea4c10b2dee496b964f39f213388fad8b3a35d550c77abbbcc99c039928106d13cc41be8c150e2cc1813bbf1ba07b64982e9d63cfb0ace7ed5d3116801680a0d840f80a879c6aaa30df6b2a36af6caed657e2ae435855a903dee2a1227c1fdad14815513c9f992285825a18d3e2c0496cb0b2c3131b7951bd71856f0a1e1cfa9ab0e0a6445e90b7885cafaf245907c019023fb2be9bf2b038dfbbc04144e9eb6603ba63d02eef85532897b1f273889cdcad4d9145c9450ab3a8ff1d4507a2d9e60f42b3d83246934fa0a36a2fecc90861383ff1c0fcde35d8a5ec133118f1017fe7f08ec2e5666b50b4a0d87867889adb6779ab19f4f1fd5a867f302188d669ac7a883723eed596bd3dd43444d8741e1314fc70059d41f1a03deb2ca4acc1052b68be5563d005003b1d5dbf71cc1d1be78f9d7e84524188ee255cfb36ac1aa8861609058724b3c12b63ca292648225ca374787a0fa19ff844be143b3968e84508e70764368f08ad9ea82c7e1353cac0e0c43b6a9311aca10e0af4f80beeb2ef65bc05283de6295cfae081776e9c111acc6cec8439aae243176c2c15c2fcbaa41396f0f007cf153309c0d571aa144977279745f37e16e2826f5b5dd7507a9bb91fcf0db216ff8855115f7ba321d6aa0d915c6a0ae73e61fda4a618d8bad5fdcad6283cf9b3e84645db8798acbe28f1c60cf42983a4c83d911749d5e8108209ebfc97fcd4efdb674a86690ce51fb87e2bb45c96f8a98f9560b64b13a4e9615ff716963de83b064bb22dd695b49fab4624ac46a237c964e0919d1be3c67a1048eaa0827847c26edcb58954d00a710ba065a396699ffcb7e97df268d419327f33b22b8af372b226e4676976cd139aa012a3de93deca6b0c2200f7b7a618cc1e3ec109951a36c32856e1d2111c8149e1d53736805abfb61fa42244928749979038a457d613f028784b8e2c9f3360fa940c79c3e7c1fb7f5ffef565db1d0088220be9c2d8e5c2d81070932ee60de71d2b96eefad613440e928dd22daec7f5bf76c8dd42ed82981cbeefe62bc7cc19663622890d2286991bcc1c48e7e59e5a67f9da365634a608aa8a32a620b35c7ae61d6636c4fd1b576560a638caa3d853e08ba8fe6bed8ff23108069c2fbad4ae0647113bb241bbb608cd148ec8c4e607e03dbbb611fd773589b8b21c7da273e84ebe90bdd5eb8f4294599e52aaee139d48cce38261ff2569c0d7204cb8bdd00bc7754218d9fa5742b48e034af756af9f2c260c95293fc478e46615d786a77d05fc1d9e1c3a9254dc5f5fa5a9246919fb795ba8f27e2ad71ed97e8c4349b0dd6a4a042cc43907ba9b7c69299449d77ee1bb82f7de5c3432a9649e9474fd51b7e0b411e7c17dad4e0e2741214db1b3bf056c93c4c39fbcdaeb900005e950a70d3859859774ed999b75d12daa197ef47adc5507d87f7b1c8d4f0f165ce2a939dd9f8e7a62f90590defee3badc55a2ec5f6dae4dca56c6c711717a9b87a9517739419534f137b05239375c36777ce3201803adc631d5ff85cc53cdae5f0867f9dbe1a7337ff583e2071304f8384e2e8bbacc9474eacebaf27f6bf3b456693a1f448cae0525818e79a7a158cdfb074678951c976fba27358130de6588c45a2e53c8fa005fba08126f29921b5994294ef372e4f24e31aed2f2d11b31491c15c3d002084e1a5c4b37f47096118ecf156440d48be78e87328e4b20dab2db71c7f4c147b878fcd39cd4e295ea4dbb227b80664f550c931c7e0947a9b48ecfd5027a36f9b9a2756ce7a2f27d94a91a2e59c50a7deb4362094425d2ca82f91e46d2da609e3d9ecead16968acf8c30d77d79f0de335e59cee67208ea6ccb1fb7738c90aa56a14c27e18db2549f7f5857cdaa3f595e4eefa7e882329584f67d095a52d8da811132bd538675a12c8d552665a829296dd052f599a3031836e09e2152dd803e4a260264fa050a3a286c511649c936d4dc6c5d2a74331e65ed6f78e7e41ed95e850bbb06da4bf2b6dadbf6041519f6ffad3dc0d4d9edd2bf605a841eb1280709ebb5a1bdb5f31de6b2fcd29fc00ba39f976dc6980466c0e1d62ead4cb4106d813d07ad8eb9e2ef2a2cec0c8ef8d06a6891ccc751cc7cf6f19e3f7dcce7be82a885d192058f6be9abd32caf80388d1209fa7b4a990e1186856a455312790025179cdc195332c4cbd21e9c89d3b10ee0701ba413a3cfd63c44cb68e507c00639325c55e4cbeb1d70eb8292adce4cbb93ba21a766d49bfb974f6f789e28c945d8ca00501a1e06b4029d8652a8bc7dc766890bb84a89debe3282f649f23165f83b1388a73f8c59049bb1c37f1fbd3305b9fcca378d8424db2b1554228f313e101e74b2a259d4331aca0707176a8c6010b6812aff6bc3546829b3640ef652912180ab76bf0604ff068f5642c63113d3c4e50f4c8013a2735dad1a72643804bdca26546b1cbae765d0ba46cb9f82887fed77d482950b0888861cd38edf6195952c60a1dcc1ce3af8eaae3e68d295a733c1d32aed7673ab435e9a4a5a619a0a8486822060dc3fc32ecd5dc8207d5741553b638be33e296b345d5dee49cd1fa2537e72c4d07e30ac81d68ee2387817537b36f4c6eb9dca195f944f2bc32823dfb13e41f9bbca6845652934c00003109c35f80c5d71624699e436bf082b581dfcd50c0eeede96c126b115902397c73722a8775ce6715982b902a716dfa45da0860bdce783c385c184ca0b2a4f18be98e0889c1837a4e33577a4aedee7ad03d03ed7634e405d3341510af7332120153287263f7d135a123cc52a389473a12f172a4e839faa2f0466e33cf5b0f7b37aa16421545a69055154deb2f67b02abc23a2e5dbc2e838995eab7b960e845b190d4a92ed614d0a626827a4f12b39e202dc992377dd67b9e8b5415dba1b76c253c9746a9b0e1a31ece31bc311d5fd75848f888b0c92df7b6cecf303b3a8db1e4ebde1c21b9004f06a28fcaba3d316a30e1e9f421a7dbbb5824d70c6069720bec8272fd448f5c66f5449bb7a6d9be0baf7c29114dd426d9b8b49475d1c474d8636331fd3ddddcaaea85e5ef369fe346aba88b7e60a05f38e8a7132ad8775f2c4ce42be7f272e2349d72df08d1ca22574c44bfbd686895c7b25efeccd9f84696df3dc25c992b6a4c3b0bfe50b12efdc57b0e55fe22e9f3c8aa4c59cc66476a77059f6007ae84c1eaa6c44aa608183c54c5fc4b69eccd95f0495a6a0c02ea6de6be614c84d275f80f7ba123206227e2e3cfb028aad46e59ca4b48ac91a08399e4bf8a435ad0f9082e72973c20c3544bb30c312df369a919a4423a2cfb5df5077110434bc6d1cf1aaad0835eeb22ec5659a83e85d62023e3ccf4d6a6694328e70c30be80321deb21962b3d93ac24103e447f251fc3470f87a23a6b479ed46b9124a172d71c002c3a30804fef543e7bb974ce4c457c2b75ae86d064afb2209efd170f424fc47c8e3916f3b4a90217e36446465fbaec9035cf50c1f9db117f7775bfeb4c5fc9fd9482f452d9815a571ce7df21ada1009cd20ff4a893a6b99df75a5ae6f0b3434464f6da6a7edba47f65d41fb5c1fbe4419315571ec95df0d252e0d3f1e26c8cdf1df209fd4a06874bc7065ff5bc396d3b4ce7ed25f39e2191bba5c2eaa284314893fb274d3581a3a3e6aad355361a6d8f35bba89a9c398308e96cf05c7ea0f3d092bf3970bd9c4fbdb250059a4ddfef65b16abdadf8fc20ab072a9a1c04ef90a0428d6cb117535cce74673a23e62d16c6cc216c084bb5a1b84e1158787788ec96a1c0d1baec026726a84c1d022c8ec585cdf3153fc8b878d02b343dcc9ac4a46444250e0eb331d63ee33ccec339fce670044b744fc002f45ea13945f75066752d0304d254d2c75ca0e14d8a765a17fb8e37e84359fe4feb9bd038f632fc959eedeedaa039c2a5df2ef1e8f0822f92db124b1208976bd88959f74818c536b6f32dfd4ec117dd18dbefc737d6228b3f0330fff9cdc667d7a44b1fdc1e2686b20c26151d130bb94eef4029a19775161eea73d9b90f365c798626f0061eeb54ac5bd0a0d5a7e56f817c2268ead7eab46434c80d11d96a64e1e16b9646eab880249ee3a7de14888246b46be59a2a58e61ddc469d2e0be4bda6efc54b122189639774253a136fd81ef1cd74e4a3dd5233cae81cbaaf258b66f69c0fd216349708db8e48613bdbf860ef3c25dfe95228121e8eb67c8be402aae2d12dfc43be73d9bcb46f85b0b63f8f4b71747b56ce2c81f2fa8f720fa25de868ef33293ece47e1f83ef70a753d862202fe499222af3115b23dac6e512e3e2abdfecd002a4579a39a9a40cff111a0f9826f3fd9ba76b4096cec255b7548be0db61cbce71cf57fa8bbba9ddd8125758543c2efa1fc59ef5a4998117b9732a7a27b1621e8a42573e631b15fbf51fb8d897850cc78a9b4743322473122a77f8888197076421b87923b22b3f3f71b759170446757bc69247e2b363882434382dc4b513c46238a89ec84d401475368846f82ccfa6c1ee9923ad947154711b83481ef40758143722f01fdff6e35bfd18de42b7120237c4905c3ffcdb9527a88bd6dd0252d68fc82852f42c98e3a7a63876542e1655bf9d75b41b15ab1fcf02de409c3d9b341cf90a3d8cd29865986a5d52f96fa1c697b529c418754b4791efb071e971b9e952771105d6b1830368e9f4427852130ebb47e4b9cb228aead46d88b9e5e2df08c1222779e047ffdbabdd66ab5da0eef8bf60ab01e4cee1e950bb2d76a56cd7823ea59ff3e820216f5ac6089425d537cb64a011801febfa94c64cad911d9623ea26c4c90aa178275e3c5768382197a6070b9f42dd0403b837b465d0e128eb0fb824a8e7d6138ac58e0d8d2d520986b4388cd2b5cae2ba482404b89b6b33559c7925e94553ce62f53117855a278c2e160309f82b6e2a5b553a4c6885de2df8a5b26db01019f2867d92a3cd7bd15ea8564a911826032ab7330cc2c3a9bf5bc057c71b1fb55ff0ac93f3475ca54f0612798bfd69d148983b16e58baffe3cb6d68fe893db73c15abd31d16d4facc1e7d13f221422b22b3c88a014f5db77f88122d57fd44c24bceb1d3f1eddae94e560bdffbc2cf7081c5426c40bbf548ef19b25dd914c3055e5fdf25270016d196cf12dc939b9aabd92175b48370a1c990a37d856a89d11df6a0db2865791e6555d90dc6257d89ee142220fb8fdb411bbc9cba49db863e26e5ab7de84bad5357317bf2b5b9fe81a1fcdd523f6b92808a831b843017f32e312449d190228551c0e0997c8006d1274c2c0ce8973eea3a1c4454715ce58ebe52889069f022626b8b74f900c781299fc7b2561b911dde16d3d7fb5cbcc8064719666cede8d2be6cdcc306b26df90098e4546c9192bffa6a5b36b44c31f827e4e0f3a4265a8739540ed47ce667c3fc8687c9f85fc19ca1cffb38329c568cc7721d26cb7915531b5d8296197aa8bbdec30f1c3a286d11631f8403871c0c03c04fae5fe7167ce0c1245aa2f8cf8e3be3563b8c854db60768cf008d66c4d90def7b5dc80d03650e3ff34aff1b8f3e9b9e65dd3342acffb7114517a222e4e0eacede76e550e60b60ec631ea6a3f2567a9c5b00bd517e54c6422dea94469535d8666af9d193a4f0a7fa3526f990d444ecfb5282a4aa7da2bf7a52d625d4973eb66ebc116ae7f8604ac98f1e944496807785d2df7db3c52f2952ac6b0e3bbdbc12bdc5ed3f59e32d190c68117ca1f8b39bc576a6d3c1a5749d9f7bc9724c0ca7d827fbbbf00bfcfe38b3105cf5eb8664e868ee4ae0038639145798367ec204969a55180e0b49095cde15d1dc69ab4ff07ccc856ba22536a20b7bd9aaf64d3ee199b3692c441fb311c6820b0cd350b7cef6c3ec19df26479d61af010259730c5531d5ff60c35594416142afcd0f2fbe1010762c1d8899fadedcd760d4c4468008a06395567b0f7281f934bee73203996d9e4b528d49c8f24ad36d61988004cd1701573e69903d9671058e7721db80fd6a3769dd871b02c754fbde018d731935e04be92524bd181e111752efe6daa7713fd61999575bc15bb7fe80a0e42982cfe1e00365fae3c357ed73a2a8d4992c8be710edd0684887e60e78b6702a1fd52a6cbd368212d75c94aa7e13ca8fc622811669435ce414b99543a787fecece2cff839815c7d53a8bf9c3f0704826da16d6d84f0c5c312d2290d1e1d84f4d08d3e8f1c92a9412ba16cb11d935c556f1b66ba0eaa42448e847e8aad2c91b944117d9ed4e31db53f1c39aaee7ca5bcbb8f147e1063338e207edf07fd43aefb9cb5c4a1d087a32f7345145e8c64b6875606294c3b425deca5a50f575d81a66e1201404e2909d9d0a9520258589aff03d7750f37670fc40a3f92b45b43e07741916a9f1305f89dda376124d92969ff7b8f6cfaf0a1bf26e37ada721735ad71b786b12b2dd02bbad88c200b1ab6dfd4e42ff08ff55dbf34aaaa4bfeb2e8a1b4b6c53d4dbf6336adb90df6f748f44f7145fe1fc7cef4f744555a0e7b37eca9c97da859d018a2970aeeddf332f1b70a971b63a5f15cced9af2e38fd7bf4699f16af71248a16173337bd9ac2798af83e1c4b8beddf47a1110adf1e40cbb600c618db86f0069d4a439eccbad5ebbf216c1275dc66372d530a93116161c3e7f4f1617d287a116c77292bcc2720cc4651e95bbc1c8358e9e8a2bf7ca9329cad1a396e961cec592947afd8d2d63934624e1728eae4d4fc6df35224ba8d3c4410b5ffa2a40eec27b2ec4833a9f12f0c35dec4cfc08f9703c4e99571130dd49a67fe37d3a7592952e96bfc6b20fb9b62c247d3fb6e8dbcbe37f192fd4721095e97c4c070cf2214c3620bbe388ac8a4dfa085c548883f6496f5ae7a0885884f9f715ffc4b23eb082bc3cbde8f370852fdf5639f086f12dc531682c19dea83fa0d5eb9372a4ea45a5585ccad1009d1800428324df19b4cb1dc0211792ee5afa9e5f5af3227573c5d9df1c7071d5ad8dee39592b763a3c15d5454badb0a5a51256e9a2f296f1e44a397e04d2c991702466dc03fb242e0e593444da7d570b264a7828b44c8fc64b97884725fa3ce2ee6eeac69db7a542e4cb501175983079973ff710a2a8fb811bce9fa6b1c7e7a2737e76b8f5ef737de9c0b3af7ae57f989f6d6a1d206ddab89907a54f1be5b87072fdca7e9401e782ad627771a074902d9ea6e7b9eaf97b39b6d149d26f3ff7285f430eb43fbde203076a690968e13526a58ad499989af5b942d940bc44c22cbcb223b74be7e4d49047a8c7a187ff776aa2b0f29b0098eb617c5f22c3cb83351b59f5685e31ba37a6ac08abe9cdadf52f3f78bce4d858033b1464c33ae905428ea9dc9983f38a95351c689f47f42158ae4ec11462c9775c8489165f66a4148d1107f7176456e6d6972f2744ec56c19e134e9182a8e7ddce24b19e8ec4b9fd6ce5fc44219fee0dc215599a93a3f85c5a9cdc91cf574f66e8fc78a607a4317a5e2115e7b86525f536ed79ef2a2bf13b264a85d38fabb86fc2f877f4397c5638d75a06af28ec8572ab5f98c89eab579dc80762030faf4fddad894bab8212d9ef38abf01363671eaa839ba4e3a3632815a2814085389e721ba3c33069b4ba96dc28ff7777bee629820a83622fb88e0567a4debc3efce98e581caafbd046e9d814240837d3315fa5f925f2f06347858996375c3be3af1c24760d1d39bc9ebec030bc20ce0c0a2ee150bc1afc44755b5221acbcea935437bffa3065a2f6408f856a285496f091d676f6fa5d97c51edc1664c6305616d1368881801777c2f44edaf76e782df76804a31813f6c0866e72bf8a77f674944f76c7395f4ac0014fe5e382c6514e669566300b3957b6859e6c18ef1a0e2a878c547917c1b39fefe8e04d09dd6d89073d75e20b54319f3033a1475d2f7ebff86d44ef391875ddf16857fa65928fa303df7031d05534364a97361bc00077a5e925355fc2bb2deae1af52169276ffdc221a955701b7b6773af4a0a83775f1fab91740503d80064dab7622392ced38c5a2b09f75f1a980b6a56176a0dcce4d2ff8aeb9bb90b3e07d48bfb1cb50d7018af8b94f83f0be184764c71356d5cbc8d28285c5a2f900051679fee0134c2a1d29517b3eabff902fa588fc875e903ea68ef85182039d4afaf9208548f0f8f1fa9608893bddf97079459d2dbde754858b9380f79bf8dc8ce2bb8a7fd30e6c59ce528f7e7dadfc5ebac0f345ea84d21c247b793dccf527cef79576024565b6ec7b19fd0f305544e0f0c6ab53e0a59890000b8988baca2fc0460810ca45ec476a6af5493a32e168c19330a8969eaf5ff66450e8becfd5f576ef08f9f611ac5626e472f890daafb8cc90c0f5bbdaf074fe2181adfbd301bc74da81ef4ec4d5e79d22761f9cd59bd9913cc0490ba439d180c2cd13d8279003e99233aab982390750e9f1530ffe5678897c095853e79698d89c50aeec9b2d5debee451da1a0e2a675bb77e1b7e6d1351d33006fbafd11c495fede5f5c83ffc0885313bd3b186efc44043b137fe56b608b48115b9e01a8cd82ac5d8797dcf1b8276a1b5e355c60186406d83b18131a12056c29a572476285352292f4f15368999224b2139a9c97df005f26c34c522f18ec89a1c6626508b534698d206380529a3b00786ec2f75bd1f3e3260898bf32a90fcfbf61973d0712728b47d88053215cd78eef95b20c8c9bd285fe23b50122dba615d8465b7f9ce0f40a0647143d3aa201b92d786d5cccce76b6960700bf0e32e54524ea5fdb9711467b071742dc3a250009d44aa310ff5d87475ae741378b08e284d8e5fbfeadbc55f97b252d92104d46d480fde14e1f423d1f28725d7e4f71759dfdd1a0d719793772b183983cbbceeff75b26ca541fce26a5e58ef1d799bb066fb5aba3d08235a1de3b98b9ad71b4f175d4c36723c5e5091189104a448d5babe38973d374a77f0d93f45bbd7f0c19adc19345ad577d410d22a7d21510e2c252789fc0c1ee5eda96a7eac874bae3b1e56dd9b9d14f9ade7aeb325d747ac67f02652b3b3d75618ba2e5c900a8f3273a1abb728587fa6f7e3b58023584114736b44721331582aa1a26f3a421aac48cdf5cbdea99a2ac52a4a3fa8a67e5f3191351fd766dace95e9675bc7cce3e81913aa3499b4f30fe1f3edfe6e84ae6b8be5de89ebe5f5f00737a5d41968a95a1f5e53a99e0d4b1e88e2bf0537ecbe5f9430c38fdb112125b492c34347358f772f4322d4ccfa7e30e9a1690dc842a1190a8f2c679b090a05cd3112466b81b4135e60c54958b9a96f1b326f06ec8a77029add81020f085e4dd4bc3e4d65e9ec3aa26aa3faa886dbf58ff8c953d9e1f4b85c962095b1f494c455a8665ca1f5510337fc76c1ef93c8f341e793749aa9dd29f6eca640b4a23495ea1e2ea042f520880802443cc257a9c2cd389a57a0159ba2834c9b8b05827bfc7321a0d6d0c08bf32ae835b40f08e3d7f0c2459b9332c861f5b33d3c29893e4087925f270007b58d086f773f5fd27b0aa4dc2cfddf892482b5b08976a68c3a16f436ae8a79c925a29b5981607a25017a288c5f29d9b709ad32b297b41b48bfbbae823137d548c66d251689ffb64194d404c7576bb89d8a85c99b5fea144fc25684be1b306f9f2ae8b1d825516f0495b6673ad0072672df2579d5cf310accb42f8163363c31875e4ad743de7da0e3a0db767b488d4c80ddba90301486ff5098d3f5db4c41280e50ab5c8047d9cbf0c9f10ff4ecb4803d2b869281cf0775790190fe35f113053dc7acce189df80550d18838207f3d01059c70c70ac27848cc2c12216f1c316fa4d297ad907560594fe5c9825d815f950a8bc89898c1c7291651f445243d31eb4e5899d6af1b589e67dd4664443ca19c6be4155b109fc033fbad4b9dd00ea2875f5305754462ab75a7113e451d21f72b367c95286b2d07dac98dd523a771963aaee9ba28c5c575bd98ba18f57ec793ab59b103e55fd6bf65629f4bba12a189df13525760a722048117182e70b8ec11c3d1fb43e16e88bf013a62685cac4cab92a93ab655b55dd062269ef7448c91612880030b6120b5cfb7289e924c7048e66862bbb9575cd1e6f886a27e3013c03884ae7d9d4c1dac81cecd668e63eb917bec44e0b3f6f26681f0859604e63812e5f3b136995bf7131be210b3d2109eb506b3b09f4a4471a0fd7758cce1e731c37d33f87fc860f16895b05b65f3fe484b37d8c6b7a0c449cdc446dc9dab97e693d7fc448ffde28f0e0a5bf8245a1fa8396006aad6c055e6373e13fd60f0afb3e6b7eba08908265972f19e3ed1d91601bd7e3bcd6a1d4f7ced5f7277ac54eeaf7225795005000e2389c4af8dc4139e009a00eb14c3ae1dcdcef0e62ce62dfcc75ee79b686c4dae01717191616081d8e12b4846dbbd3ce4056f7d9415ea75dc8f7819366d11b48167d6d082eea8cde51fcc6ea92d0091158a9daa854eed43a30497b6f88dbee928c98d00300752b510312dcc7aa815d643325ce8fafb5c929dfcafa43d9b83747c86a7aec32452dcfc0b479ade3746d5a996d805cffc366f4eea2e337fe5306dda40b8526df51d2221cddee5caf81abca5fb3e2347be58d0bc1185b51d129673f337e7c2d154f178b22d21a3438e07616b495b2f7463ab54fe80ea539553319759a1aa7b4e2ea82179de176e4054f0ca6b7918867d1f6e57680810c48c208d9a1df347e1a272575471b860fc36633d682802f2f734db1c185533fe76d0da3f14872d254d20fc962024e521af5ae4c0982e7f0630302aa839cac7b4301c117843017bd7ddfd62f18274caaf8786894e9428dd9147660d7cb99f5b213ba2f05ff94fdbff3522245c237c7fe080820d22d21d0411942f7e5beffa130bbb03a7e7e158f5111cc2b5f9028d30833c39339818ee99bf7ca9112069212fad9c458618d3df3c6ea5aa8c72a58ee2c78777d28f557c34863b274f39f90fb98ed001086cf43ce872b9ec6e2e0228c1c45aa57262e2f9a6d878242c202090ac5c417e15247ec20a85965db0c51c8eab05017323597d223623208b6cc1868dd130591a214c5ca23179d580746fe9689b3605eb7c331ae4f6a54f3c454bbf0aa36154834ceddff1541f872f667070dea75304c8c2e172f58d5bbc66f9d59f87bcd98564960a13f502b3fc0f56917bc88391100484273180c1db55c32adf76de75c110d32f28547f2c2daa77171df438df15d29f0fa1bdd08014e841b1ec2ad54a1d73ceca96a2a1af2aa2c157d99f52f9ecd6dab5eeff595849f62761b7b75b7ca0ce3d4cec6a8db13abfd17825cea143acf31f00ba95710e80f8ef71f13f380f3c59b34741481f7e634b593fce2b1bcf35ce46068c87c4abb095925545210985706fc93a4246eaeb8d764f9ede7933ec24a185dc4b09312a751e65ca45388c6cef8e63ecf8f96929ff2e939842acfe8a1c72c6678f4810487181b2db4f2e5141271f041cdc544a2ef20e0c4c97fc252f314323cd92c18fe10b4b930f5a0834be79b3b4f08aca2625b23d36d9b97a9a642790f641f98ce55218adfb596edd38406eca51d076a036e09b4977a479db36976182df79829cc8923f6ee92988b1b720ba71e07a17e4c382e21a02d37deee9686f4d2f75e3f27104d715c09f5031dc86de2f5d1ecc717059e8e0ac3820658e06362338fe647aa895e911673df6b8d5a25d60709ea3238670a9f3f21eb921b4db52e5cc81957689a2b6e844a2e69a0c2e78ce3e6c6eaf4b6bb218808c471d7bc80c62ff3821e07b47c08fd63dbaaf1250c1383e016e29dfc065fa972af00a69dca2b61c76edbf419122652b6a35438f6a3ceb4e4550453721d588fa4d8e2e9f0b8cf0e0199ba435d2e0d5026cd06016e58cba35322d3710284cf6ca58a8727f1ee0cb7f699bf9db02b509d45b190575c49441b58bcde04c37d4e362c63715a0924e220d0c2dd6c3a6ee6d0387ebd4ccae8b68e8b8402e911e73f16b627aaa75570b9bd943422882e466ce644903304200619ebd5659a3e9dfe0544aa8a44c54820fa96cfe02a1968c7b53a21aeffa64e30f57b21efbf6002c4864097ac915ed1a5ffec77610308f4a34458757c812329832e0c30fb95979a60dd3ed93f6ccf841dfce4ebbe6a92258bd9b80f71abeaebd5c30f35e2095536bc0bbe27fe3485b275257c0b9cee1baf4929e1103f88b6c753d1652e707ac2b515402e75d229b8bdeeab78fda83f9a9a522d88827988cb20750b9df9b512d9f8a591e765a713944fdca6b6c2f9eeeb2b30f700422951406862c4f0d88112c69176663f2d461a68029279291c37f272fde13faa618501ef7771fb7fab6a22029605ef08e30763df21a9b90005140f99d97e4bfcb2d1a5c566a3ecdf728cf77fe17b0a21b6278448f0779bafc27fce59b63ffd813d76ec914f0a5586817f3140d61f166eb71f6dd755408b74da593348fcf9cc1eb2424cb4c567bb046f7507259dc365ba0308148e4d4e0713b9bbf170c41e6a872c4123272747af0dee8facf04d8cddf947dd787de213e9c843095389b5373ff46675a44fc5e37af9924b98f9b2073edf1892bfb321ec8fc53c456f6a08926de9febc22973176ce45f31d081907924deeba4a151d2e12da0688a07e88873f6d722837cf7ae766437cba84fb8cace8e0c715d9ff7196e482839fef2585665124b7c77e5231bf775deec72ee844723f864c6841486dfb94b9f8da73fd901407c3c67c838be1020418cd88f8489d114ebdb2f7ecbbee0e67cab315007ae905d4745f9579ab526634f197ae429910b3f25386cdd21cac461fe141506bf767ebe2040f09fd2420a5241fdb11074e13861957f2e66811e0ae28f2747fc9aaaf3b3dd1ab70f93efef5b5910f79045b81f2f50646c0a43221df6535ca52142b31c47213c665aeb35c5cf60d4622986c2d11cb1452406f79674dd5be6aa990ec64e8ebccf8e282b7e926b845f2b3be7d9a04e479bcb694ef1018c9a7caede6ff1beefe2b8db24844f5124e20beeef5bbe727965a5579e8917e0032e1ba21cb4713bd4c4b1453d804f52c908ea221625dc606b9eba3cfa995f6aa63030ad64e8ac16effc22bb1ff8ab5b1894998cd2860d11d563d57d30bbaddd2aa1d63d2bfb908c8a4f86d44ae6f5b9450f4294d9a94f102226c49bd31bd513fc55926eedc0dcc943cf9f0a9c0a7121a77c02204bfd9600d3470a07fdd084efa056248308328f98a5825b054e4210e4b5a297299daaee909cbec9143301496df8aee874d29f6cb673582c74d073571a979be3b7babee5917aac9465b393ae3b829fde7dbac1250f6e4c31b2423f8d43426f3605a5fb240908b4e00cfedee6ffb37464330ae1174e3b7fd0c779c36dfb8f4af5b41cd08da9cfbb45f014f1bf670efcdc7446b8a7da23793d18f7b75acf7bd7fe4b171917a021d6b3fed3f8bc6220a02bb81f6f0cebff61de8ab97ecc712cdd9e235c354aaebbb287f6cf638577f975d920395c4e96753c67ce79e3217997e1951dd7adce42a6a7427bc7f81c2b8b1bef53811f5bca49de18196e9fd5c54c894c7c312249336dcce5b8dcd5135807a0d04b0a1ede318ed7e74c3adf2cceaa9105255d3304839b619123939c6063b139e7bd82f2a49b9788d2bcc418d3bcedf134e462bd3ced524ec23e35b5cf27569fdb8d77a5ae50e7d6014dbdff2a80c59114b43ca8fe889b8c4292f36accc42bfd8ca568ae2dcbfa4c5eaf973c27f8d588cec601ea649439845cec44ff11db2962ad49e094aaf343f99e70290925656d01f8fc6248e67fcf610f9052364a9459961d0b250ca3e576a360db2242fbe86421a1a382060c5164226dd8e2068b771b81d403322a43bd5152371f9dcd59c859a725392738bc7e28fdaca1ca5d19279af61ba129caff483aa0fe42f2c6f3b4b510da219b8405ae41719d5d43015e4e096dbb60a00e96ebc2d552b73141e5a2aa08306305f238928de42bac66dd9f0ad30eac6aed9886ee3dbb788ce95136a016a1e40c070b6e34a6809712527eeec5698f6f5d0e1e2f575e7542aeb5674745c39f5e6c6bf98206142332e685e269cfe97b42e5934cae5f00e649d38dc4d633c8007c1bed2df7c131a9be299804db4330a487e1e06aec3b6201af8440ff6a9a55615f8771b97a886de749ec1722411a0ea55d9d2a4b9320cd148891ca960866df3bca8c5bc89529a291f6bb41cee2317b05de0502293847c768bc6317ffa315373ec6369a54a5b1c8a43f5d8ad337a6992d5e217b7febf6b672020515ae31337732bd00c01ddf4a42d48d436d06bae5da37b0cb758e01fe937d6cf887bd049c9596731d8e3067954d6b9dd856202b39d6a7f26d454cc36204ed692ad5978047d32b1048d439d141e806496df0072d70025a7aa4d770bad3ead447edbe09f6136edc6582f9f07ca6188e8c32a00db8926ff93b5b7665ccee80d70823d80af21eadfba4c61fe2b863af7da8e5845f4518776484d347f84c4850d33d99cc827f1e318a16a75b349a1b0a954dda266f75ce9e2d21436d5a6fd8e9301d704471d81640a34a8bc9051725b96dbac394b0b8f296d293b9c4213f580217e54e3cc49836a14976962250521d36d2c5257f711ea12085dd91dfbe064a38740678e1897a6ad2aa2a08552f79786ccab636f940735082695f1c182ec16b64e2d4aab1ca546e8eb689fd1666b73791e1c4692119073efbd5fca615317e9adc27e96fb6842f156caa7505af59a0bc6814b97e6fb06b50e0da4d7e4b8147b6c54152f0e45111792818cfdc3b5e86aeb2433ff5777dd61cb9cbede2102648f4cc6f4606b11f9b6839aceabff3837bb7fe7f8cf05b57c7abb8f8e8f9d1ca877a0ca9f43b1b1515b775632d419a04ed48e15caee7e0cb0925e6d7b957b152390f9fb655ca4058129cabe2c06748674e911d11aa8be82946ee1d127a8db231aab2d2c6ae6dea896233bad1454c362fb16b7606ca34ea6545d6ea2eec9ed287aaa72940f736637916769dbfcaa87877552c68a71694f940b635de52b4ca02806d5ee69092287515ab02efd088b0e3cdbbaedcf3c97f0024ac8f66f69da512678dd78676552e7770deb7fb938bf1a89d1ea25bdbb14ac78e80337e681e2a01037cf1e471015838d2f04cd264c0901bf7ced9d1554650740efac4e791037a766734cc8e5a390130f2e48204283b7db714f49f73b86bf81832e045392abef17ccb230b9bab070a6e9161855251902b03030c90702ecadb314d5f2025cbbbd8dbd4b6668e4028af77eb23a8829171a3016a38573530260a5b43b80445780eca187c7ebca744a1beaf5dc3afef382287e78557ab34c9cdec6780ff482190c18e6366d33611a8bb8af4936949bad818ff0b1ce6241a55b399f5d09a697bacfc5e2278db9ee42fff564887b0c1208f4d91026e92176b884e67862f4a5f76015fad827b94d7a7088ab24907aabd82a3ab9e3724330bc9ba6f75c117f601dc753afd209999f6ff9a325bd9782e6fa19cd4bcb5bde6b3dec00ca44ef878f29a29ea28f28f97939b160de3a5d73f63c992b33c108b46cd8fa7fa40f2c705d2624098b74b57924906caa294f1de25554ee4029dd2645dac1c9f56f7188e0a5c10c5da19d009f5411a6a8ef796072c212993b1d70c4930e9d1236c170b749ad22f4ea3fbfb222181ffe59f6bdb8cfd8aef158e986323f56659b2ad8669f9e29777f0aae840d5c8b2d59bb473be87b0f0e41ae59bc8edcd21cd75830bc46c280d65d0bee7df2ff95b50153d6e143e59c54f2866b08aa2714fb30a59c7bf786141a5a018037eb78912426d26f43a6ffafde969e4416a36d088b09c23fba69a65358fa935ee5158325b1a76ff1c162aea68b792331711ecfef9b57c3ade43f80b142c4bc50d56b31f75c9d8370c19db428fa00da51a594e403a7a982422fe21283430447df6955758afd88f01aa6ffa39f093a2be391d40a73318915eaead70dd38c463de997bb4f42ca108d03e17b1569e2d43d1553bd570d4df15bde422283658c134ed6f32e6829046e5596a733f4b4292ca98f0b3e61afd0ac6b444287cfd8cdd3f34fff1cc209e496f9671a21b1c92a67a8d1e3810dc9f138735bb3b2a0373dd552baac04a42da2408ce23fb288a5e8efeb1241d24c69120d28893c0dc921f51d60687a8614c4193760d25fd99cd311beed0431ac1ee45c517571df66209e3d0295c773af969a23d1c90ca2feb959b561ca13142053573a56e325bfa5d867917239fa192e57a5cdf73562495612105bc2883049695100e9e840d2a1b1364faa4bee3f9fb460c2468e4da7f8dd1c6500d44fdfe312def4e8b09153c90406d1bb69bfc66335fc43cd283f104de05036e14e5cbf8cf51a977f1af4ebe21a2a75a3269e73bb70510e9f313a324d7f04fbd8607afeaef1414efee38d7b9fd36fa546d961bca2792ab91583d62f441d1f613ce550a4a649172bd466b140b3722b98c294ee3adc986dd497771cc9310bcf9f574f0947fe0ea70dd31c8904599cc4f3718617129554d3b505ce46d0cac5a26a8dc8bf92b295f43748693fab9beb93b4c24d48d66662ee952476720a8354662e3e962be2d3ffd3c3e9b16c5a090da2fe68d0e76d8a2a2de4ba4e6050b86b88e57e9157a16fc567888f8cf48c2d4689cdbc94545635f98e1d68922ddf31e70237204a60b17d94c5ba39ecc2bcc822ee277df0e55584a10c5393c4263369778d6fde6299bf39b5aaec1d681bc64aa8991878c3ab5ea7b982bd08e948d623cb98fb89ccf88f28cf1f949509628c0dc8a7e8a6f5a8b7e384813bde60bcbd0b10aacd7fbd81f0306e61041c9180bd297ecdafe60b1166ac71c19175313c63636c243ceabe4242227a01d2453a5bc1e72d663ee9c5ba822efb1ded9ac5552c51525b6a9c96b9035f2ca7f8244918778344c826b1b45df00c3b383299727f46b1d435667a2879f09a67c1562e014e8d7de5bdf507e862116d0ad7e2a10e22524311c37b0b6959625f47f6a254c456b6390d9dc8144eac0b5262b1b62308ad1d194e7402bdff18637dfd437f62a2e2581515b88c3af8b3526a1c38840c20d166e949fa85dc7c745616228b1642b125b54a628013ec2212a04210d88d4693ce8200bf30bb0e2b52f64c64774a30ef26c79c59943922e1464af2452d8b90127a3f227789048e8aa7b1dca6dc5da3b3a082f7cec8b00872aa99612284ce3f0feba28386672060b30dc5e0c3719240bef17ce293b6ee08bdaa3d9587e650c954b2482c96ed8464ad7fdefee50a86e9a8787c23b6505aedd9407ce5ee212aae88c12b723167740fcaf7b44715bca9edd04666b33dc39f310160bbd145f8396ee212bc83288941570db9743275e4831e71c64cccce684dc965950c29b57a97378d08660561415cccb7ed9eab976d9af0841195e18d7140219bf5ff5493c727dca9160b228f1a00bc2ce9a771fa0368fcbb4dc3e2daf8f2dc573cfc6140e1c949583b89d4944cb5b384ace68fb6b61e43984e6a5ec7b27364cd89be38d146f9d1f1b3845cb1cb17e2818ee81900ca28d776ef338410fc6c9de8fc5868c206d9b841040f3f163f4c925404ca10e2d272c5829442563d0f35e0f00d17eb17554fb63cf94452d2b5b4f3cbcd1257de65f58b4b6b8277ba740de9ff149ecdc8efb502dfe96e9f877680565a5452cf8ec4cc7c91bdf8b228cea2da965241ef3c82e3c7d7f91b1599fa08fe8925e797256625c1d0e1437391a2aa9eb1f93031dfa123fa1ab40998bcd1a5c82481b023cd751e6a4510a2aae4cbd28f695c37788cb1c5765439584b8ad6a6be5cdf6243712b79c77ed2659697d11e7bbf9c3c0fc421e6f0fc948bd668213ab9771b44ace8c0b30fe9661f43029b76345a84572064009401082ad274f431715c09d03f36df2122b7b573a98d37df9449bddff83ec10b93716c124cd4e6dff8bb2afe4b8fa6d3a2d35d43969df756c7e06a5d0bf8f9cd9fa55417858d76ee719311dd14cd4291aa640a7fc926e1e58e77309991160dc174d0e2c5b415dc608a66a57780f5aafaad8fce7bd9bda644d1fa09174b845ba954a30b4fa5506a4b3bdca881bdd3d8de930c966d0cc435ca6243580effbd22823ac60558c85b4256a7ecae173896081829909f0de30601ae8afde800bb6924a9cb5d023bb23c840217753f324a36c9b4fd6f2e65bce5590b60dda9dc3f4ac902be67fbe1cbf08d17b5af85a540431f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"aff5feed4aa3ebef111e2451b3b77950"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
