<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5bfe6c808aa79356d5b796260c102e58dc45f37246da281825528befd703287aa2395af1edaf935852dd514a8bbc14516a98b0a0de2c882d87f3a1f984c44c24aa13c199136585fa226eb14d4951dcd3a5f702bb0977cd2bf6f622bdea90cbefa1c2b9e010b8d2b5d68ec79afa87dc7c051d448bbb6cb978e6fc19e0cbbbbacabaaba98716a2db3163d18d66eabb4e8af15cb50a49d08743d1d3ca9393c0db1567b981e908da696074c7fe9ff3cfcb4d0cc9cfa0276a43909d7b2db75273372a13ecfa4fbe48a3895007e10c29d09ca1e7e1636fe5c1b6f7e2fe973bd81a3d0f460750b1f4a061761ad5127005021aa12617e8e78ccfeb666a295a79b6a5e49cde1725fd216bde2dabc5dd07529dca82e63485aa880070f2b0cacbaae436279a6cfe5465283200ef8602830a4ace69bcabda826d9b840c01e7cdc373e7dac0bac7f0cd18e485e7673dbc823fd2a2a0a5551d2312d4bbc9713fe81c0083855db68c4fc9458bf3eee648296dfaf2d0a6780d335e128c9edc45d3f44752eaf0d1c3358dab14f06a92fcedd819ca29a163f91168b2ced1f00f2ebd7f1556afa8597d470590e9e4ca6502bd5770eb259b66e11a944a085d97a7ad83b341b785cacc5ff0a32d13d21d571f21c374caa63bc261364b835a6e4f64db9f52dcbaefe1e69088c008462df2974cdb6ed9b12c13534b59aefbf19fdf58236b2f1589e72aae24ba63da12e592ca35133017810d8d188b7c4865288dadc0895bb0149749845698aeab419fdc8dcc794c10d04b0fd4515ee7bd52a8a084860cf8b3d92293987fe85302299937a56d6aae61bcccf4094516da6a3e0ed31ef2069af519015988714eca486754a529a0bc0036729cd8c3a057cb34219a3e0f50f6bdb044c87b55bdf69b63e57b6885336f5b10d76fdc8028d56148273314d3a35efa494e4c27479346520ace3024e39492e6703001b0a3e1446809bcf9a21e95f87086e7b75f12589ccbd1e5a947dae38f69e68c186e3959407c18e6f4d58aab85e4f87f236aa912dcc80c2283afa7828fa8bba3ec59320cff9ba58555505c50a8795435056cc570bf1e43f134297be10d8bd578c6edd2ba2618271e733ba0e6e9231897364ca127a7cf418fc3df5ba4c50896973d8c312c97c0db7c0b42ca46e7fb05d8c5de730a693e328724723e8695ed662cc3c5a83064fa02b350a465e5cd1422a44a14f4814223b5d99cb48aedd014f2bb7654b86ce21d0379b63f4ba03b8ffd0478d1a35e7edaa4db7f41a354368d3a6b08c25bd77f4853fa196d0984b12899dab8131e3a7965b71ed74cbfb82576ba79994d1222586fb4e612b7aeaa1109bae3f9a6b3cbc8e615535d4aabeeab0bd0fd90f40d7ed4376a0bc8a5417fff20bc557ec008c681e3661d64bac66c7e60d3b58488664b2f0089af506d5db904fc4ad00252d96df73040c095202e72730340936f34200a53a7fa6b2aa44735c5641d74451b8e34b2d4aa423be38d16c66d6d027d6011838a4885933dcdb121923bd8bc6bcc6473d5a113b6c552ed17ebdc87364dd0ebb432399a0681f9d801c7ea0ce2355983c08d67092eda9bac556036460848a291ce4f7568fdc896cf32d635ca6ffd3c951ac8a2ce953aee414eaf562ef0cf711e0a8326d59912d41cc69f228cee02bd093b7ec881feb958a949fa5c732e1c0ee8bc9eba9737e6209ce745e1e7e5a146c6e81292eeb60e3276ae49b0658e1ee8e5fe2b1ba53ee3487b62aefc274e4381ac5c0065aa3f9b5deccd637cb1c66e0bd05a3adcc3d4742a0f599ba5671cf0175760ddafa49133973d860273348473c1c979390848e3fa7f4c121101aed0fb74c6117d419ff12a151b175399d29fb1e641a7125c5fbc60bdb0dc0ad4ec3a9e1a6b1d608147263eb8765ea081d9f379700c9316091fd3160eccd456538a63a4600957736154eb59890e2caffd627a5eac158889ad670189b95c6590bf3e9a48a2b33e8e34c6d2f25e92f8f85a6af42cba6b488b214b61f4c61eb678324a6abb707b05acb519dba7fa1a3a705f1f79da5cdebcee5d81aecb2fb7eddaa38e95cbfba40c3d7545209c98c3f71e7a2f15f81c5e6f60a568bb6cb3a0a20219b1f32dbc76be118f8041093ed50b2ef80fef42588663488c389338240c6f056e55e84b987d0830a7b6adaa4b29eb96a19aac8b8ca1cdc19daef4b7e15a0abd383037b45c1e069f9ac95ffc92ebed2e26e1d89ee0e0a3cfc47ce6b42f2be03cfb40c3da3cdf506830adc13a4f8a4b877705826051995e3c2b7df6153525f7a2a0e3f7add3c05f1af7bb360d98bbfbba9af2eaefeb50fa4431d78609459109f54088475eba84044d7c937b5af5d00b6b4e00439a5723a44c6926e576cf8c0d87eff014c2bb4b0533b0cadb149b99f521ee127a425e06b2b57e50ec1a17e105e67212075c6b886f3ffac55732f35a8af2748f15b428c9c645b1b7433dc14885351984fdc1b713ceae77a977e5dc5578ef9f034e8f78cfd8c643eccb414636d881a5d2502b0868903789b12dea09daa4212cb6c5af21cadf4d31e86d251225676d3c0b803b552d92f8639bea9500ea06e641da9dee036d64ae4824f6cb633136e178c4a80355ee47cd69337c8d9c23bf22736a10fc0a4e9c88969a2ae9aed1c05b377abe11d11646c3c1166141100adc2b784201f5eb1b32df54f4a2e266adef3cd838e0b3a2c54aa168e656c97b3dfcb318de85064c43a2c74e0da93ab1c44e086f97e6227ce2c959a48e3eee9470070116a39c54e02d4dd8a0b3383f5bb1ba138ee7fa18a4e35a3466a1e6dc311233de77976a5d4c05a1d44d6c04a4cd810ed4318aa0fa45d0945f727b60377646f57a6e869897332716d63ec457ad3b73de8eb4f518aefec4f1fd8c6676211c460a456ec345107b8e4bdcae38a8221899dd27c6039dd018a7ed71dff3a345c7571c3cb7cd989600d5d2e215b726f106af94fdd200944d9f0f507182dec23f1d35e301a9f491973ca03f6731beabcd0e7648431efb513d174bd93f87fabe0bc10d000a4d9777a26e5f05d2b1fe45ff7409741f86adbbd3eaf5d698b24330663457baecc81af80b060a08419146237704bb1dd3f57ec6d2616b02638c13c0fb557724cb5d07cab5b0e9006d6b3a2c1b76f235ed20ab765fdb28f156200f5fb426ad67cecc4927dcd3b64305bf829d0cdcd8a41be3c4e5e7e37c2867d61fdcc35d40207be3ffe4e8613ec002b9442bb28d4cacdf84b22d2c25c31300f842368d0ebfcc7e9bcc8aa2741db41e299f7d38f6c510a5ebb26e17fc2986f84f2808791a73366ff803a6bc888f1cb700b09d47b9aa71f89682b92fe3a58042a7afeb79b1d46c3f01015b0b59423cb97daf39dded57baea3ce8015fbbec5b1863ece81ca131d205a46984e65f2822ae4b14bab71722847698619ef7e0797f00610c8fca762a41b641e131f6d2bd788424b8d94935b63ca11e36c933e8834805cc23a07f6a32cc466e97569e8ce463115be6abe3456954219dd018f51da922ad05cf09f10c9e199fae828886c95ae1d756c905fc0d3aac6c329b173cf3dc2edb87a4a3d23e0ac8e8d4398f273342f97a6c86e5b9131f9ee4cc613564554e1c364fe2902fc4418cc9f8159cdcb5cdcc91be3a6375efd5b668efc09e54c6a9fecab4d198211788a5941b9ceb3bbdb9ef35b55a95aadd9f8082e8bd885e15f882268b02978e5c5c96991da2000f6b051dadeb859eaa2d9a94883bb06cc95fc0bd6b5fcd7afcae08849bb2fd40bf14e628e319871f7b7d51994427b05331f60410757940e0c50f6a2bed50c621a23621ff61e17009b6933bdeceb2ab2f6702ff547976b219acd3c0c0cc5c75f2780022c8d697d719f9107e680e9c1cc31ec80656681a073a6d25c7b671870be8ca92a64be3fba1e668a4943d5a17a2e96519b9c601c1c6ab50bafc589475a448416bc0d789455d833a3146ec8011b9551d9377647189e52460a50d78d3df431d5560af50ab73656a3b876b6689779815b114d03318d0aa92ddb7433389d81cc4761f2abe130941f94c15c628d555aad8dabc0022d5b6de8c1e3a13322829498728ec21f9fff71ac36bb8db8c27163b0c19141de284519f070809b46ea8528868d7223603f61f670957c589d72fbd7a2a0fbf8fbb8f83f8daebe2f2572594130c2fcb8018db8342c4f5e0d1853e98a06b5dfcfdb88bef175f56fae7216b40e0f675aacb9142fb45271d979ebf6f675663f97fd126984d59dc726168837d2ebdce96841e7a59963ca545a25445d68d9aee0e99204e28ec3b7f408ffda163f87c276e29c76a4038dd581fe3673de06ef2e633e3c52456eac42f1f066a563e2172b13cfccf750dcc7dab4425f41e67930a1c9915f859b44d5d3af5ed7afea0e2995331b99eaadbe7693ed5cf6289cbe902fb78bb1fccd44b2a89121e0fb0cc4243ea5dbfa4547155c103ac9d033f518d7d6781190e0d9f7f74ffafd3b92795876c606ac873788609daa9ea326a80d234016a66d0a01d46fac7c84c9b14dab1db7e9387a9c4f943bd7a5b31df1e3f02b734fa72a530266d28b9dd515ac0cf2abfa3432ba84158c1d52e6e1f89e1716973a9f5349c02a18c66f51cb82611b0a74c8517b1653d9908975b1ddca1159c2a7f2a73e17f47c5d5d7073c91aef5e8d07c7af391cbd8bc0fad519f2bb53cf3a2b9707f8763d6e013d9abd64715e4f63b166761b0e3142ba7db3c6c7981a0b812cc6c6d91ee8cdf8e7db0a68f7b5b4b51f7960721e5f3693fb653524c46fd3f2de47fc250e9d58926a5f29dfa13ebe5a87ff3661cca82073dac2101bc484dc1213741127376b240716f38add0be8cd6e12023ac83148356a0f365cc9f0000025b4e64a24c78c440b5b394d6c5594e56575062c05cadcca337348f009e5a4586bce52ae5df1a28cd8e93a0087c4bd3c67176b3801c43ef593e340cf41a2bd72e6c80c8f773dc10b1a086501e9d7272f75ec3da7a9de332406a2ccab8f35aef36645ec931688d5d492421a5c0a18ae0e904f0afdf3983cb390146486a0996e4bd4dda1509b2819b53d30294dd390b31853236fdf2b78b306b6b35d1479c851c9b75effc534ed46bd3ea045a6c5165bd1e1e50a02b8aa908233f25006c598cecd8ea90f0931c1fa716bbe746a8ed790813ec93fa2076fb0c54eec2394ab8a47f90b78a5de1c05f87ffc3b2b63a8759e4797981bbdfa0e693bb45b98b09a8faf0634b2ed731ad5e1ca064f784dca1fb2b29f3765c2a0b423194d6b2d9f4da2c7cb4fb07c8826be3a0fcd5efd5596466513ca7a0863b0ccdff45a353f1a47867e43080b3b924de2747afef41c6e33f9b9d915f57dcf2ef7f9c3d4b314081491f3a8d838a2acae45d5b7f53404c74969180d52f1396aa6572304ca54b6a30d8ee487f054600464105909cdc2b5d4c751b1bc3274bbb21c6957b888481336c09db1fd04fbbb127d15be309dde65084abfe146f11b2a6aa0c5ca28e9462fa0693c75f9304f27930c23be723a4268b5e5d764f0b3d97f0707504b1f55778eef5b8445705f0629587220f2b20a52b0df21fa7c41c7eb795fec1048cd3c332d7cc36da5e6ab0a61c45d8f91974482e51084e206f8a16ca77185022616552334d9b9359c9d67c6b1c7be53e0413ee766c568cbe01cdd3a0f6c7b2662d1870078bada1171406649b992578a64410523bb27a9a47159551eb7f6385ea4cf742a85251a503030908364d5dc2865b7dee0043320d4a1c886d2bf4a0ebd1212d0ff40778bbc77ac58f7d18a365b77fa814f51ddc4a429acb6440c4565a87169ac46502385a315d3f3fb70fc1f777098eaa3b1eaec1082e66fc5f5458f4191034be9382878ac74bb81964b1e81490132667fd2744d42b5b1ec6ec4b5723734f3d2a7da463658ef62d8fcba03814b38f91dfef6ba1f9a56e63ebb371d6338b25c3c0eb5a100a5c1ab150815701ae1b09836fe79ddd73c678b6b9b5f28248f5a4594e34ab30c988619ea854af7ac0ee5650c901a8e2c9251372a4912c4a7759e3a962dd5ddf365d566c9294b21815a0bd0215c9223985f383472afa6d2f14c303bbe88fb7d04ea5b8ebff5d78b17d9affa74c5621275db05b6afb3bf733a3fd88f715d5aa6c8fd13352de9917e5b0d1b620ee0c5951d517f57c5aa1e04ef97f5db21686d6780531b6d7024f5db5a1ff8a5ea3979a8c2ed29a93253161eb96fed9b9082d5903350452129bd65f44aa388b4433481827facfbc682f20b34e4a755ae98327bbfa924589b22800dbd3289011a605c9caccf1145b315c6e69030ec4050ea75c0fd8cc84fec110887c7731e07ea964c2815fab51badfd8c3537559b47c8e61c2b9c64e6b8d2f452df02aa7132b715bbe1f6548c7b5e1d9f44f8b29cf3c030c8c711d1de6a0c54a4ef5beefc40f4958c3c62d870c4ee460d307cfd14fcacc0d819e81dd02ffc2d200ad8c40713b1affa20c78de2e1aac47fc01618aba4720b8412abfcd8567f3711290ab209b857c27c17fea708adac35318671d5caa642e06daf167bb8ce5fe486e76a270e26cb07d55830af411888b1af990fd8c5671ab575122f029534eb503c22d6d4f547124f73d6c683d78494099e2c4fdc47287a3ded0467cd0351bcfc652ab154b08905522a8592075312bf098698e70be39c507d2cadfae3dbc795d764eb9fbecaac7b9feab1c1bb465c0578fa43cf4f89a230680c970be259bdd8877c9b7055c07c2fbfea56bb957e2b51ea4f8b6cfb1ee4ecb31a44cb0c0e4dcfeb0b7a69bece768eb241ee3a310637c5014037548495022b243653dc627c52ed2356a9fdb193fec4cb15e68ae79cac527530ed7d2a1b37efaec05f1bddb455f2a67f6bcae3dd733e796c3c89b4d5b423f72e8361ba41e8a32646019dbab9ea0f1b9be394d44dcb6c0f1b78f165f03c2093d397f31cf1c06be7c8f831fbac889661889f566c29fef9b088371ff6718452b8f74ca8c4e0fcae05570ddcfb9d6732e683d96032835f9495471de8a3236b5f92c7a25ea64b6b1a0b556ce56d4b80eebb878b5e3a7944d69bdb27c19c55a404789507963e09ec597eb8e8d4061579d4e0ea47fcf482f65fcc147c7a69d41d403a477b5886a498ffd059794064a0c50cde6110640373afe586d35cd8f8e8893bea0c4e7f70fc40b2fdecbca88b96509dfe739576ee2ea9445318551eb22693dfc2e1e83b04a0fe5ce0d51a76bff2cf33db78ad017b7c8b37471613dd687292536833470c82b06dc438fea6760bcf30e75fbe0ee9cc00a478fa11afe82055df85647ac59babd06128d40cbb51f84a9486f8c9a96f82b5468072b1906aea6e0ed558aebfbd2f5ab6ca333ab89f6217d177be40dc789426c02c3761c009aa70a9fc49965a70afc2ff67c75ff6c837f3cfc48e875c03f95b903ded9f3f0d2e491bfe03ab93de8e4bb64c5dd4946427211830dfb38d0dfb5cdd4ee73320724d8ed583c698c5b27552c9a2379270a633bf570bba307eff9fc05a48552efabb259b91ffed312f4ead249ed75f0de0e8f9aa0612e85ea50eec65a01b6be7edce77e853f5857cc06945e5c63d6a3c5ef4caa8b039ee7c300cbcb8941d7b147b8b334d2b600e8c552686ba86302a856ec785a54e53c8e7228d1319698003b967483d623c8b9d08d3ecb0911fb3173dd4b97bdd6f5db30d7051a92b2c395fb45aec29887b1236a7393d533dba54f0b5747ae2c411651ba924885446300862a45076b3870bbc88823b6d0bf330b7dddea3d6be84cf96318a1d57e27183142b58d17b2c349f08c469f246d1c5c03f09c3f0e4fb5752d8cb972128aef457505d86b05b6f87d7fa35d83a63cdde1f1520b4932a681af6bec3a1c128715d9a58c4817a2b9fb7ebe75338ac829ac0837ba96009b0827cf60dbda854e59f7a908e2d3513af58c8a14441cdd2d59710e3fb7473bbd3516d2883b9035bdec7523b2e9aa003dcee6605c1122b726ed83e71bd6c1f5c0837aaea9f8ba5ea399869a6f056e93303bc91f9c4494d786e3e21b2bec33fe0d94158eadef6585fa20a89611ba5c7e3a015dde8754b1de6103f8695692d4ec1b39a175d32018a17c22367496a94ed1d6de7915d3f47b45601a22ee3f3254e305fa14619e8d60fb0d1dfce3bd00376a758e0f2785034fea956245991f8f565be261750c927e21123bd5ed97a952a4676fe64d772eb9ada11b50b6790219613782e375e26ec380656cb5ab23680b715ce9d2874f5c242bf127024f64da4817b93786345cba42c673c13b93c531ab84476b74663ef0e43fa085d350a8c19d5eac443e866df9ffc58a1339510fe34df9697faa4879e6953c4584d82a1fc69c88c8e4f63c2a0392caf7d0060dde334f971af02891cb0c336ba8e7cdfb0ca443a095c4dca61de284abfd5dae5121b8e93a0f752f03e721a3ad6f228842ce5775d760de75acc89d39c5aff0d95bef534cb04e42e094fea1b1117cd6b2de3fee02edc21943a0b4eae52c9274f3fa685c5a2e1035eed4d83e0243ea1b2d922b9511bf4647c0f8b493f8d752bdc0127dd3888b70e97ade7a167d3680c788ccfe7e3b59286cebcca4392b3cd51585e8de9bc3b7479f7c128f14e1c2ae6f50a3c5606e553a5838b78e55c467de0136dfe607c18c19f5fe637e414a2f573f56761e7bef4c3fc205d0d499a4a6b70233b444e8813cc8076cada9dfddf74119c0fe621aa8a397b472b861631be941c21e7d187bbf21607f59af2d44813a0a421761985df75796d5c416e2a8f76d45e1dc5a14718aeada4c87175f31f4132c2da7a8c8c964a5e9c4035a020f935c9829a16cc99ddd054a1df1003cd8da1769740d1b87d96b513407b3cef44e7e57aa60662a8f9b70aa75528db0c612409910ece5e8d045bd7fa4df75a73815399e3bc9212a6de90b0239d5791aa296b7bc32c35093e25f3589a7c840684a125499b472a5a2f2d6a5d5d5107efdfd6b4ba576a572b6900b08cc460725c6bb3d611e7cb47dc24d0d2e1438ae944b166dcbc412dfc4fd472a0884e563f33bf5abfbc7fd939182c392b23d42f31fc2d6758c4e425075ca8df633485f09805f40705590943144fb453af43a6339482432a02647118b5117258660bb3e98662451b76caafa7ed25f0c24d493c6da8231115d5cc0201d2decd9151598bfdef775a3c742c388fb3ebcc7e67701f16fa10484fce823ed49aa111ef7a867240a81b3bb0b7ef34a39e3c930826084c2d8d14aba553220dee570144014cd8595e19c1b43d93fc9e3e553bf140b4f24a073f4e77cb98eaf3bd2594f1575b7591ffa17aaada6c9601e3d3b678a9969bce9206d889bba6f46d1ab59afa56a29876f3f4630ceb2f27e3ec3d3ff3066087c27efaa1b1cd62599d75878242db665a86013b963cccd7bdc599a13aa5f29cf0345c141ec61520f0c449ac9006ee0874fbfe25e506fbcfdb073b8947c8a50aba2daee3df1757b53822d9d5f53db7891f6dad1ca44c4fad654970d4d24b90323ffb961afa1277d6403f06a75a040077e74af78f04b1c56f9a4feea5d53edab0311b61ad80b6b7bda8a0bfac6c98353487f177ff5187552f66fc7437a5855eb67e03bc044c8c65605950a0a336613e74cef95cbb8e6dc6f2036b477a14d89af22383ceaed08530f398326ec85a8468e51b9eedd9f2537457f64c666a679574f0676816715c9bc22f509465a247f002f3fb93c94ce77f0ad0e0022c094342a2d26891f07368d5120ba7e4dc6b36aa31c3f5ef6a5126a5b0dcc8751f6d873d839acb63463f1deedb721612d4e2b0da0cb587a5cc2ff09fd7942990709ed96d0dca86829afa340509037254d7b9caa544ae207af417c403a3f629ad6a62ed8f6b94ba4669e60f4f77190fd5bc7eae6544444570012d24d5998df8e89e425963f77824b4fb91fc2a1eb829e3d4af8d789c89636eb7340905199a674f66e8b7da9a0533a440c5f666bc93b845fa6fe3b490994adc56635eb65597547789d1c25321e0c4e49828614189ee827fe0bdd318bc3703a1776cfe94daa65e428cc9d7281f99eb42b3ee45a6ffd4e1f31165b9d6837f1ff07109f4e4574f09a122d8d0949d1e8bc6ca05be763244d80c8a52943f6ba535901e6bdb65ce7826193ba64e210fc1c305f8f4e673871322bdfb123d5f6582f21d8ed0af10bd23241fd1acd8af02f66d21fffd1cffaab3183d7478920c5c9066924dd312c77ef2fc14b9bf3ad338fd94ac5eeeca77753079abe7d71c1b63ee73a588313ba4573181658a0ac6ec6bae1ef83888bbad681a9c765b6ac40ee935b021b5ec3703b29ab28986c4c6a34594d5d86be41b41a2a8e82e6f6dc81bfefe27107f4ed83ed98972bf2796c727ea4e2d7710d4097eda6828d8e8ecfc089ee860bf62c2941f0e70d559bd71e4f3fc78a70d97626b7c8a2e77269a56c04b2aa58367a3f1e66bfcf0e124fdfa072e9e16777436bcee9ec2f8f2bb895a3628bb250e6da1bb1662f278334a3eda0c982e962f4b0ffb570487ea823f96ff60158089b6aa91c9e141c55bac381af27c9555e4e455cf31dc04d667cbbbba3b7a4eb48bd916a7eaf227f65cde8c678cf5262b9db675ce81e76dcb29a25ca5fd948a79a2496a6a8f340a68edf0453050c5ac49021eb837e3bbe0ad33cb9fd016e9282a2b3146fa0380a154c4c83e9b2cf28d6e90d64c62eac461ac7d973911ec11268cabc7d67a8f9914f1f0da51a36f429baa9574d9a658c92d2f869bdb4c85c907d67f5b8cb4cc76ae5e9b25fadda4d70cc3a6144ac08d1cb8280f30828effee5dc99b9094793e3e990ac60ae00a7e9c090226890d37ed220349db12a2dc6c678323a9b86d5c12880b116c6b6d471370850932e21514cd519fb921bee530b4a9631d73053214440958f9d45b81c713827a19836e0b800ddf9e433c34b870c0424aae775fa2f6937f71d7d06b7a53a341e2dcbd905d944d3d1bdb092c8225c77ac692b7b0ebb478596e4beb4a4f988b8a7e40d76a038c2d1948baed3adce86165d180e559ed7aab1adb48d57bb9e92254f149437e50ca266d46b30a7777895860b4cf65cb780099db80a4aa8736b267328f6070bc9ae88ed8a8202ccddc49c614cd82717ddc8f171b205f7a93515afbbb7d494aa851db3dc60cc13922810236a06b2a716e1bff3347cd3bf000ba89d54dd352c300d823743c8d53c0eac40262cc8b07730fa76c9cd0d2c96b21bbefa6c861b19a5c148cd8a51ca8b2de4aa7c4f1d9ac3ac364416286e664419befbaad3134ce35cd573f5292544c8a7cf24aa19368c12bc8dfa68878b4130a1c474cbe51496bbc4bc72fb74cdfae07bac21c036d8d5a475fdbf3fcaabd5644ebfe16dadbdb0c9a849c31c19175ee47b215f171cb169c96ec0de3940804cfe44a92eb4fdd1384b11d46eb9d6d671fbc048de75ecf1f66880a01f62c158d9b0074415929264941e06d148a46687a3e98c93848403f45bdcc97816ec671e45c68ca14e9f1d1f4ed11e8ee50c1834c2e8ba3632263434b3a4fa18eacd5d01caf9e452678e805b2c2e7662f19e60a636908bed1dff37ee709cd36e7251cb0bcedd8cced84f8f1ff935e625929baf570a935006d27e6348cac9373f6e43d54412ce35e70f54c2300b6d7c2cbbf41f491dfe240ff60f59f94d519cf2ef4b5b5949c4ea5d5841ee60aa8d252d574fe1320203e2ef513a696e6155bd734a65e2796af688a977d223e7addc40422eb0fa68a6632a8be1d0cbf56ec5c7bda66245b41b440f948509a1c6201004b843aec7f6e68426570324752a92a205f7f26ff738c6ed09194f02282d248b0e2d062edbb3d28aaf8bb0ebca7021afdaac7c02aaca6d59a50244630d4aca00477c1b41ff87bb0c8eb45c42014aaf5fc0ec064f0bc9c9e63f80e0731e08195bf3fd02a66cf9168571aa24efe0e3b8aaa192dfc634772b0973b20b1495a5b0eeae9d50d03c43b9f5bec0f8936adcca6a4a40e28ca401c984923b3652756b77b8695660d15383054ce25bb6bd4ac3caf6057b1b23a9d8e7a53c5b9d102bfc2614b820e5b4951845a969759381142d2680b8629b67fc3da83a86dd615b20331e748e508ec27c27a49293dbbb2e88ad27342149b86c89aef12726ecce480457578f69e1cdd490b79d66b68cb463595a1ae59861aeb77363b004d101554707c72740732b353ff5b23d05d1956e062247388a141018e700f2cd74cb736c10c222c705d7b4657523db26b33e57c5b97ee9d2f25da91fcc7d9fb61c0dd2bdce7f97c2d90889b82e59ec589488061403490e3761d1767a9034810ae336c2246343735017847ba628bffc7828eafe787c76546d53159322da7c760ee76b6b59046e9a5ebe14b2638603b1f68f85569211164c322924cf92c354dfab429112f1955318f4a177967c7cd807f89bc7025834b7d40bd3d7bb42b3f070d0c067f5d673dad558cfc939b2c0bb700a571071db42173f74f3df31392f4d9284fe02d0db722765b90161568e7ae243609a6507b242b1b0602fa349df7af0f331340fd158fa840f713cc123832500c6a2e9712032c73bd7e3811cfb09fdc8fdf61cfff575a05813085794c65fb375ae49640e7c136f25afaec387a6f79d65d17b0d203ecd88583d3465a41289a2c98303a5563e3e4c3f8f0f116fc0f8acd555ed4c9821416f9c897ef06fc592e290ac3c9a1c2384be8161e3a26f3555487931d35521e15ccb8965b3fad9afd0972024c1f7df245430bfb5b0d5d5d245a47dc76a101878d92a29c68f3f7e48d39e2eb23c2c33e4b632282e32a6dd9feb1d7a1ee06dbfcbbfe109b8a849c5b16be5a1dfb2ff161599436528a8f1975993999148e8013f7e1375677ff129cc8da8587fca7ed2d182e787bf83373a283af4173462b8cf2875bde461481a03fa6e7eeac2c1cab539787ab4b7a5fc19d04c5691e557a2fffdb441436d5489169df3e04858c2e46851658e326cf8bab6149e907266a9cd13bc1b71a54b3b1b35f564566c9cf952e26af37c6e78db89199ac3f32b9c75262c365f9ca67371c195b1293da6881177b82ed1d572cba05eca5c9f9107e011b43c8e995b47322ea966a632fa7f7439815679081d0b61c667dc414925a8123563df36c2c8f2d32111d74cdc16c97dfb9982a8afacda8b3b81fac3dcd42c158946e9fbf5ceb7eff75256d05de3091679a51c4235800686ed2d40b5447fbc9090517d618cd5304167f2d0fe163fe2052be9951a273813ca69c290e0bf43075e62c14124148960a44a692f8e06036b569bba51a7fef9b9085a607315b564fd0120d918901305a903873c8fc50b321b78a04b36f20874c966c67a6ea4d306ad1c37c480107919edc3c7d747d5215a08fc4aa9b8a710a3fe854a1af184f0bb0ba76d2d3fa8aa8f5820796ad0056591a278b7c774d6ce5f09711ea9117c8fa2b2fc1d272ecbfc0b7185244671ce3b8e94edd887318a7be81d93e2507dcbea024bd6d8673d25e720dba0372d875be858b988d52ef0aeb1bb8fdcd613defe31b6b186389bbc1d660efb3e13534a808b01808eed6519366421fdab8494b4a16a662f07f57233eb938dca670b48956fdbc97ae83fccabf7d9d420ccde7c1aceeddac1af8747813f7e7b875ef5158b97825b8c5bd4a3eacec1349bf7d31796468af19e9dccec5c13ba14006abbfa56f9dee42e45b49e6b83a490e737addaa46b5d9d3e425e7a6e72b90bdf7678ebfd9c56e4e10598973c8077fb5f349040af67d10c1fc67d788b5fd7b9c10dc4be4363a84324e9f705dfdec1d445179c27045ba01058044e0c823a85fd3ed3bced290a26799337ecbd34703bf6037f5b96795504e5c15e4653afdaeb5d5d7267047d742d5fd880d96f6fa0524216a43ff33a350a66cdb6b12582b920c25d2ff1683ae961f7c9bededdaf73f3836d98e4bf6059f55d844ac7fc0aca7ba2ed6dba828e95dba2359f17656452b1e0bc990e510dfdea8e4ca9024e70453ffd4b99e44f87965293c1be81652828b5c3eb0d71776c31cdcf578b8541239ea1f8362ca29dc7f1676f1cea6ae08fb43fc04e83dddd377339caa5f1ba030d9bd7571d092d9f9f899fbebd84a25d9f1e9bb469980b95d14e6fb2f4e6dae6b4118d07769f51ac051007c0801da1624ac196833bababb80cba680151617a716d46ede658ad753e99db17ebb27de8d13d2143b4983a960d845f027eea36ea8f90c33b2f9a41a5bd063e7167647775a43b8e1c02b8c8c9cdd8905447e4da3a7a97bc20ff9eb9e245fffcf1fe0fb4ce35a88ea423d0d0f2063027e53e26ad708ace3f8e4a7f71de72ca599a844adb7bed0cc68d4d4bad1128321d97201b9e50e779fdec399beec3cab24d7d94d85724fbe452683090568f263a329ac8fb5a2cab3c8faab688a9658a71ad2e5845509dd39367bfc06368a2ed44f7966cc0bb79b6b6358cbc1bf64c32bab8152fd5d76703437710b08b2fe036aa6fc9222e35acddbda8c7a9ca7140a7d4b0de44b60c9142041118dfde6e9e95912da92fd87153557c745bea9c4471096de32c32ba68de9418ced4692ffa08cca4a6e30e4321b665a9c21e457cacf2983367a730b33b5356e8bacfcb61bad207cd942cd51b8ee7bfb30fc3fb8d20e6baf8d76e76fdb55ee15ee5169ec4e34f9a8b114678d1d933119baafc6ddb41207800c1bd28467aefdcbf3373f7dbf20191d5285649e26883778f96333c133b2da2c57a0fa72a6d137bffc8c2c36b2abfff09f53d5c5a2c2284775d794909aa627e817dbd85d4d4a6c7db0f3029ea70eba9093b5f63d22ae4009754112cf15f5f65cfd2af614e3eb8f129d6fedca53209065361c6ad3d00ee6219d0928cbcea24369f6f01a20c8ee3e2b35468553cde373978620d60764c831d7901a7714c3a34ac696e1039f288dc7c2f7c5cd4e41e0bf6d081e3701850193423e7b5bb2a2959eaa906346a6ba14a88753dfb943ffaef5e6e15de5928ab643dd72874bfec80cb8f52d14cf0592b97ae8a9b9af6137ee900aefbe4481022068d5f46f6e92791be854b1a3ee1626e25197006c11b98594f1cb6c301d1e316921bbaeb56eb5e602f9b2433b60db5652d1c9351c299a860cdc0af2d4ea858eaa8c570004327ac967924b01ce3b988515373e17bdbe138c7bd0fa0eb2a85b6985fa071c9e7a63bfc5744330b3f22579d861dadd56fa8d2f17cbc0cdf113ef0437c12bf026443c027206539041e37469b2a83a1be4b7516dd2f6343a99db8a913c9d02e323ccd3878e3d3084afdebc5c8d57c61a49e39ad3f81fad0e3e539eadf32504b9673a90d14efe794f7b54e57f65f9f2cb596a7e56085690d5d87214f0c5d75eaae8e00f2ad4191cb35ac2687f60da6297903cce6065905a52f8ac1767065d519d916f0d085329c9863324ed0a85f45d067ae7a0e049033bc65465cd0ddebe9e001429e59c2d0b9316f255d40d8b8d07794ae0db2f1788ac3f9915814c134234bfaaeaae71342aaf93f72999cd5da987c04d9038f22f848b726f5e5a2fce0a7d4c5b10d3202364f248d2847617125093ac719de2b68fd789bb1cf7c5b2622d1a80b518efbba927dc509899f25caea7dbb298ff3482a3c9ea01630fd8cc9e036954b299d8f1598d593de192bd62f76d055d7a944c50fc1f39a7984c785f79d4817b9284bce45305997c6afb2f4c59d7fdc051be3c6db224255691c756fac35d2b1f3351de7ce742f39e9721e5964ac3e466fb5690434271646edbb45c1349ae1a250f214a726d1de286d722c225aab4b11773c7663f52e36f483671263787ef44bec641228ab24f4a1ef13c801b460831cbdddbbf444a6c4300cf8e6a5cec50341d0a831c3765e761774aabde75b518f53982d420c40ab8cd08128b4a20800c42c7f966520be832fa4055ec646e01a7a82dffed6342780e1337b300839ca82b922f141c0f7e2b7b7cc814914e67e09fdd2d67d4b6e8eabb71fd4433b49acc34b2b9b22f27a108fc6b00cd23369c6b0713567ad196bc3cfdb04141a0bf02af197793df25966c5c2a8b15fbee0cd4b3517f018afddcccd14e60beeadd0be99c2c41b35e44940d30da144c3d7b2f65a9b7440b794508f88114a3694d21e6e774bcfcdc037414189dcb3c3d659648aad4712fc608f5d1fec742a8f242c17104b20de725c311ea33011aa649aa3c8f62b5a0889fca3c1c30e9e0fc27b3e2d8b2777bcf11843b7477e27d6a33450dac078ab9cf9dc10cbe4da78de582af322ae77c2a5118e939ac83eadcfb1ccf9e72f6fac3ada9e677d05ea522ee9f1d9990d87a6eaf74687e1e9617edd0b5ea719d99ac24b02a798dc8f2ab421e42a991d709dfbd71a488dbe19b8843c0071a5d6d1e42f655362f94fd28e79736782db06bc002a186c48446e9bbc7337fa90d9a62db600b8053968b202963b1fb1ff2d521454f5e5739de0d3e53eeba971c4b9ba7cfb3517f49b43472c8f60f9d349f67410d8541770ff2b59dd9d68c618fb0365f4dd8d02245f5a91bde95657d7d2c4d67a3ce682205959db6fcd104ca44e4db7540c0c13cc7aa83d1efc62fe957d54e07d8e5d2e29622c2a0a15da40a84850a909fb5dac874b6e0f91572faa82b4ef9375469a5e97178e75996c9104cc16f521c0aa603d4dfabda90da935e1b0a2c6a16baa0be4135845ef92a0498ccbba4519744bc871bbcea731d63b84fb01ef62d9d9a3000c1868dc67162b8b94c764df1c4c29be54cdbdad668656bedacf441b20db5a216379f451bd3cefe0301fc842323d4ad2258d6086dcf01e443334558768f3a5ad1024787f30df42463f6e09bf05a712a14b7d41d3f15908dc309a36fb574718d263c516e55d93bbfd4755fd0655c14d3b8efa2fcefce570db596b0cf04f47d6e91aee9c5ed9eac53cb3314262c900895d0563d0a6f6b83fb73f7ea75772cdc5ee923d838d5a50ce6212e570631ce5c1fd5e9c3c8ed1d84c124c120c9ee2c7cac4082be324dcd8b03497231c76a90fb62f1c443eddba433e586f5afc90d44f8c8a28111f5fdbc408e3c34fc6ea5f7afd532f0e2b241e85e8e79b8b8826bf210f68378f9b03e1327c69e5be1e937ad26c2391242008fa388cbb08c8c7f2db13add528154cc4fe5187898d340a1158e1677d9646ca9aeed5c45702268ce05cc02a0d523fbe9abe548a38e948051b901067ddae1fe07a535e0780d552c25ad7dd38f52029ab4fe09e241e6f827457bb7c9e23140d34161a2a994fa9fce035fdb92f969818c82cac7d1cb9af14ae4be08fe47eecac5a6f7ea4ef449c6a1e7074dfa199a9c05660fa5fe6247ef2c2928e0a3d78ac6936cb02a3651e0924b51bc87920617111a54ce1e1216215d108f0a02fa7b8d49d4b5c4b3e159852f6aae4be2abf811dec36342d283d32dc99ed6cbccd6fa90b60c01e15c2ad306b8db871f35ce637868e3211f6f29a657fbe2121244a2ccfc0ad5263039a171ab5f138e18a5ca609d4459a3cd50acba6a55a813686c4a50c71f008efd7302a9fdef1f869d2ba7385bfb950ee4d09dc8f32543561600258b07b1f92b4f7a22827c34dce21ee96dae1dca41c48678a068d8cf787ec8e741f6a098f7ecce0fb05224acc80636e56d85b192015c156b1edd9d90076b29b5ee5d32a2d155b0781404e16563267029641f3f6ee40140a01015dce1800be5aaa6f2a066171d35ebcf93d1f7353fe7e3f6f2e6a3f59b5e1112f3adc7dedfe2b699e76733d78a036dd9540871635d130c84963e126620321180e4b6711394f05cef1cce704b514050a06d8c101c863aee7f78df699d5c4e870cd95a7abf7a44bddec157a3ee31c0ebbdd825c9408f15e8de4e18d071964bdd10b07848181b00bb78f59d8bbd901e1d4a0e2759ca1c7578f84b448608d09fa7c28aa78e19d0eb906cb4b32101b15d7ccd96ab3f24fa64f5bd2f93a623c32043092ba7e89b3015f006a5da88729dbfa1c70b2641f2639793edf874b68d36e30627b488be8c929967329bfe5ae97fefc3f51045fe77117bb797abf784c9754a23f19b8ccd3456bc734ab73476700edf91b05b576af569df238d6339e6d9ed1a6e644cb5b27ce7605acd02fe302ecf26d6dae1cbf5836996c76c00eb241409c210d3b9ba0e9ac2a4773c5b8fe93634dafb1ff603b8c5ae7c73d2df66817d7aa4cde6136b7b17815a7782d0355ea55062d8940f4c0fd7111059fe0e3d10b28ee0596726764c357aa93cf13e6d1c464df3bee1e447e3c1b83ad87b3bb042f8d5f366f84a15bcfbc64c2ad581f73199e9808bf4003f6aea473057ed41171b1ca8239dd4098159a9737085c07543004f7eb7cadb8be61b73e0f0c653db1d849f3eec3c9de853c1152a75209d438adea858c514857eeae0d730bf4926d33b985fe3f086321e754f08399258dca673af05499881b8c8f21c848f796413814bd3b92adca4b4eeb1876d05cf4c4943f7e8d2374b396b59ef75dbbabe90b43c5e56ae6ad4276002ec97c8b9679d9d3f6576c8888c9d87b579a02f9c790f2462021d37fb9615f3e193ebc23e982a524840f2aa941a9b4b97c4e4543d8da818a76c71cc976494b4a7b4c9fa6d8cc0ef0a5617ec04d875e60456d12dd5bb93c1b9493048a1c2e8401644c24c54cdadab73fb657c99a95e1fb91210c62f5306b33303d5f3cea46f2923a0ba14e0f793eee499979efb0c1fdd0b6c3eff8fc80a1af335473e588fefabee544650bb65e4e97d3fbc30e46215d303d7fbc3acbcce12155f40941784727e6468e0c24ca6c4cc21f6be6845a57b23df38a99df898f90a96046ee70ec8bc761eef874f980157f5044ca1a1917471edfdacd54852ef772cca0e14e612bdcd3d960fc2ef32871f0366835ddb37edef2f13eedde09817be84e0611a0ffda71376513090be8876cb2769407122c91749c6ba4094a6dce72e78102431e21390193fda56d7d6478d126aaed04154c2d84ba2171d2f2f3e0426228111394e0daba0b460b9725fb11a6c13e8610c43f287d353d95418c1d98eeb4effc9d328c1f3c1b4478722493b7624554ea0bf552895744806d6483cade1b894d5b42a7de475ff5c85bce380b37cd667dd146c19a79674b9fdc8106aa9fc0d0bc5a483cc315f84fe0ba7d840de69cdd3ceaafc7f320648ff088d090dabe24076fcab23de283eb8ff0b5a5b923b70a428311d3c8af12ae66948d559fe8dc182d9b4bee56205e58c3d8998557112b286af35acc56886f6306424c82aa0feb777372c7f2a252f866105f7776858ca9185d3223a965772582a02e606f79f4cada9b291e3f5718a3ce1253f7d72a4de5a6b3c7f3dc5d1e31faea21860937b15a0f0c3705ebdf46f1a47fbfbf602f63a62e60ee306f76ef6d761797cc1a5aedf4c62674627ed5818d972efa3e44887593469f905e01e79c61fd09fefba2942f0ea525526e93fb610fa0951b3299baa7670f4e629b5b4305da559275f260b09d896ef90d1d3268e45ef6857c0a7c4270b4b4f518914e455c1552410f24efd5ffc1da0ce925fc3f77815c7827fbaebcf0e85cb3209983de060a870b0b02709e41e9946bab29ddd27b80df5b712a12310737a408df83632bc6b2468e3b80a6943d1acf01ebeb98b3c22e32e0683ab7c6fd9242331a06b5e69286e1da2586f5a8fe3f598d50aa2e893fbb0cd02922c8cd9eb4f2fdfb70f9d1a04a9c478770fddd1d4f8470c0bf344fe18895324dcb7a424137fb920b6021dfeeaa2bea87d4f4c56348dac8eaa9ad50664394d27a565b2fa273f0c2a827a1b2760ea04354207441c6e486890cb3e958b8be3ec71c9dbf7b37104d48b3787578754f3884b401796e0cd25620f4ddf07bd02d1d6c47b39dfeca9694838c0975129d74940b6e44515bad0d5711f3790c43faf0c66036fe14c484f5868b16ab3ea0aab72492f3b107dd6f4268ba3ffbc6d11e94e74a2e3ac611ec7e7c96997e63ab15b2dcc638e7e203f69999d2c41a8a48baffb74aa56f579cd2c6ea3aa643ce494b3627d80a7a855f5482aa34e76a8382ca8d721430408a146d9c52d7f548c95332f16a3e2acea086e6985463e59193503e320c5cc9391282b045fb5da5d8487309504a1a5c53fd4303a4bbac4d44a07eeb7617c5c4fe81b0c7319e4e59afde112bfb7de0ac62fef788e8c3d0caf1f109aa0dae4a0a478b796c109d0609fb8604515764cc1f0f924aaf826ce2b80bf3a403349c7756f92f971fbab5781179a6b59daad97e174c1513694fc1f91d261ddf259850384fbb3b5dc71de5352168928d0e7c17d7ae801c03934367bfbc103b42690ac0c083497dcf15b917a1a595f8b7827f465dd8c4013421087a4d2778fec60d9f3db8bcb53a289beb4ecf08a90922c1bc00824f649b27ff62524dc9512532fbc97492d5d4b367ece8ad23292e5aa5f64ae88b0da844d68da032b94f37dd66f5a6841aa2645383d1d570eab6e9d4c07a5b6dd1580278482d8db0d8c78c3dc6b59e7d5637470d8e533b7c63c66e798951e1e2fbe0c27b2c710b9225a9872acf663798c68fd27efb835ad801e4299b7a7f5224ee4db794432eeecedbdc6c8099cc0d9b3573bdfec84b3fe6a52081fd789567840d93d89d8e49dbda974299fad186865f5dda05260d8c500517823dcc423cd58a8194576ede23cd9c2789428b5b98b608a1cdb83cd1a8ee50527b5f0e2f7fc0da6cfd8aac24e97bda58ed1067d0faddcbe056b2353b924ca9d64a11804ab39f03271362885f9d8e07a9d569b4ce13ce81e2a81af98875cb40a566131f794a93cc955b07755243a58b9a462ec7dc627644d49d4a082f909d70a762547100817016def914ebe1c70ed692178f6c557322eef619ad07f3aa140d563e22153099b14395a2b40effb87142f88e173b995b73f709b7c35c01eb51a1a4bdc313cdc16c9cd7249357ae2228fb0ac0852b3f279da4492a8066b4f6583f41edc6e079a39e10c2f3fa580e370ed77076e1674fbdfd3676ce6aef33b619fdad834fca826e95ffce453b9652a93aa033688db7652d7a06bdc91e90ffe828e9275e23fc9ee7a21c64f2301b698cd7926dbbfa90282b041e772c2df8379ede2c5cd42f045419958dc6dd5257c86c03163815c3d49b522628e41e4c9b67afc410e76cab7f22c47d5f3c1c8660ba91c5bc387bd624181bbe9b1d9c8ecfeb2f70a61ca7de3c0f20e4c1b1447bd97ddd19d253fa1fa0e2e042ae34af96d28828e40774c9e9333521cbec5afd7f1d058fcf69358fe07564025a6917a2150435ae64af11b091ab695a522f156169f0ca8c9fee39a579f853685026d1802cc52e1b512971e48a921b17b916c7529fe3aeb140fa9dbc9c415c61d77cbf04974b6c329f9a09944c5ba860134e43c769b8216b222b80aede38547c252667193e77fad8245f20a7aae27929b2b380d26e4634d3a0f82e59da4a5d7927b152d4726b88c1cd890a49f96e1331cc0f1823d8f1b8f5bc2869681c09f1dd3042936ddfbf49d3d25cb5ec25654f377dc9b58c294638814af4b0a3b3d9180dd9ad037daa127a50ed78404c522919819b78acbedc0dfa5c5239700e2709151fb0764797bd390b2eee05a078385ac72f1aec94a9151957981679c017394d5bd87d6c9c6179cd195284552f3eb5d8359a7daebe14f549844bc9f686e5b70170936527c31ad8833e2096ecdfedde68c4b8f70938b94741104fe7e586c9768b6df71cfaace9e0abb91085109d77c9b5429e4b0ff88ca5fdad54373f78346242898147e77fffecc2e8bbb85d502abb058ed04bad52dba2cd4099402cfb9cf5966b2c4e9bb7ee7b76f249d3f181ea9f4c656cfc651732455ad266e65c46e7f0a08659e9ff7bffa6f62be44740dd23836f6df8f7c2922664cbabbaafd59ef219fd3d1cdf27237d1419c21208e6c01d83c093014bc44631751d6acf8f2bc5db7716eb16e2c77b0ea9110ff0cf9051a649452f6525fa27ccae659acff8a03fd7ded268ec5d6ee22fdaccfddb5bfbf566e5d502ecf4bd779d58f61561f65c80a62296c3590d2e8c37d0b63da35fba395e936d02a507b2949df419928cb80e6ec3d43debb44280b8487f9d7f7f2919bba868775154c80875701257390fa3d7fe96d7fc7c02a266f039a2403e12c06915fae7b16d83bc542e8fe6346357ea855d0e558c02b92072e8795542ff48c93d0a1c2f8d89d6fd2f7e6ed9441df9888bdde6974b59833d5a912ec9a59bdcdecf22bd4f617a68f2788fe5bd430a963344725e3d3731be5d263858fb62ee8c7e17374822976cbb450d9fe0ce44446f54375a398b07bd3083587b405a61f16f28d29d05f0a9a64b143a572486966ce5a4e08ac016af788e537acc816992ad4c0ceef3b9dffe23c56918877e372b06f7ecb641fc516f5f89db86223c5c94ee278d2991c99dad1b4980d27f8293411ab5bf69630f0e86a8f7a649f3fa54a5032185d1381fd77b54c8930f1db953edf2a582c6f16b0a1dfea5bfdceb5ca8f9a6fcf6593a1eead43c78a5206cca1be58c696bdb47c5c27a87824bd589cfc49968dfb4f3dc5a343930b3edadf0821dbf7c9f26aa73bc91610467902156bf9df4e66c7f0ee6db8bfb3ff2461a406b77c823f73bf7243e2fdc7c8cc4bf64ceff5404099f6863aecd2e45640ce27dd7840dae8c02d5b9f98dedc2d8bd62e81086c0ac1a296f0b753f2a4e8aad6c1d8e86040e66fa80449dd52034b4814dc6c01c58fac195872fd84dbb1634d08d4e77f5e4b33c14b98bd210c8e7068f47ff0671c5ef54c2c4404beb4a9ea696f90bed27a0e8ff8039e9339a062f93994f125026cc2a6918273d47a511e0ca9c7f2f20d6369224b1e2a3c3dbd6b7774a6bf968288d8d2a72da94cdae880f4e64de7e25b5120c547f9a301f96ac02f5618e471859c05da921b238c4b9ccb42679f913e5c7182e01b81252fa71949efc92461701688506c41ead7bd271ab61018515b2c6aa0c7efacfc90fc552153fb96b46f4306d6ef61fbd97ea2ed83e64eefb974e63482b6048ddd0b1bc5f80a0a8009a42dc682c93fa49083c4c0c61b96f0851c6f54d4a01b98540cd0d9da62b0c1639d4e6138f1bf69d3745d2ef18cc4d3196a4a4d58817e43c949e584be48aefc8cbbce56fc59f84836bbb42776811eca6ebd36e64e9c7ec93050eb219566b20cf8b1de29bff3a0ff8bfa3aed6eb64abb12645c9b60668e0e3780eb4057b89beab1449540bae8aaee19b0adbf9f190071f2baeee5c3fddbe200680b36420c4fe0027f327f59347942bd7a19c5652ceb0b44fb84898790b022d51bc6c7ea3aea35931e4928e99d70bc13c829bb82f4c765157d92919124a09f9c5967c0a5bda468096c55e27d6fc7e53b1fde329b75b1db342e97e71c6d93fc02d302f923b5398f40fab83d5332de1f24ef20d2175d9a96d071b2bc77a8e0be83cf085005d0f385d77fdbd947a3e4b24a9868fa6a3fe428fa0e864754ea9a38f8d3844522eb953adb4578a270dde599c1e229efc35646edb91de8cd41781b97dd6ceae0a20ecc4c9d8eca9c6f7d15af41aefd98589bdd4344be150e9c4e55cc456045e5e15debdbb1e2404dd35399f40e5632036dfe6077f9166d9b25393856f859ad4654fc7cfbfda4ed392a8f43cad58315519e91c142882c6159c31d1d7d944f30bd83da05aed520f2099dd43c67a2593612cbd9811b42fa70d259ef688046b9428aa6890c054729f83f5e832e758d530b852eec10a85b4e52234dc10b5f2a99d1165fbd4a759baf597eb22233ae8245d34929a3154d932bd96a424f39324a312e291551a503ca147d0fb7c8eb34d393fc4ce78c9b17d1c39910c95d964def6d742fe5239b51b53b6cb72bcaa519545580da2b0c08557e1007b2dedef09fef49daa8962d93c43b7e5238b940b93af2d88d272650376b2345ef87ae71a0c238abcc401caf39a5a81653583e41bfa2992d4359eb2d7dd58fc25c129e76e9a41ea27eb2c1d101ced0ab0be95750da4d8e547febc0a9a504c78f8c560bf50212d8f48d96cda6dbef733157b57ad7ae70a015e27d4d2e3541e121814dbbb6b501783d3e7d594c28253c2844c2390d6e110723097071cc423fbfca41baf67bebf15cf1e76b52b8ca1dd38fcb8b783f7241f6e87cfba7f2867e48c7a6b820ba8bd79ab09ea0f8f4edd9a34be12139e35f75961292c16bd06de0ff53218062b1785f7e89253f8f01e80430f1fdf05e07d9ce42cf09a5ea9c1e0a0b8d6840a26afc0d17e855bb150a8e24c78f997ae57bc91f2d7beb46d112aa463c94c4a37ae6041f6363771c68d391cca71cda72b912e73f173edd005583564c99748ccdf915602ad8be8a38c1dd93b9e3393180edccbc9705b23120ed259d4b026e4e9449cf757dbfffed24726eaa18f38b956951b3a91874e8d57f37a6dea92480667c2cc2f2d3eed7dae71aa41242972d2793a7bf97d9a79cb6076b4c8e543d78ff614fc080b0d9fe1f241d45eb2ca0ee272ce7eb17fc07fad56b0469ccb6ceb04ef8042c0f00a43b30ff16760aba51bc48abed64ab6c02b47f5902c8050b8d8ced907472b914bd9f1093f85af00e7e49a2215284ad6efd003bc03bb2d9a6a186c5da2e69953ad747062d84842a91cb3e58a2388d178c2e19de4f6206611c31a92727e586fb84d9c47e7d6ce987c49488bdf329446cec748837c392aad6ff206a02cfa12e25d30","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5d65ec3b8a16a84ead759af5fdf5b89d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
